{"mappings":"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","sources":["<anon>","src/index.js","node_modules/wavesurfer.js/dist/wavesurfer.js","node_modules/wavesurfer.js/dist/decoder.js","node_modules/wavesurfer.js/dist/fetcher.js","node_modules/wavesurfer.js/dist/player.js","node_modules/wavesurfer.js/dist/event-emitter.js","node_modules/wavesurfer.js/dist/renderer.js","node_modules/wavesurfer.js/dist/draggable.js","node_modules/wavesurfer.js/dist/timer.js","node_modules/wavesurfer.js/dist/webaudio.js","node_modules/wavesurfer.js/dist/plugins/regions.esm.js"],"sourcesContent":["/*\nimport WaveSurfer from \"https://unpkg.com/wavesurfer.js@7/dist/wavesurfer.esm.js\";\nimport RegionsPlugin from \"https://unpkg.com/wavesurfer.js@7/dist/plugins/regions.esm.js\";\n*/ var $c03aca78159de43e$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/** Decode an array buffer into an audio buffer */ function $c03aca78159de43e$var$decode(audioData, sampleRate) {\n    return $c03aca78159de43e$var$__awaiter(this, void 0, void 0, function*() {\n        const audioCtx = new AudioContext({\n            sampleRate: sampleRate\n        });\n        const decode = audioCtx.decodeAudioData(audioData);\n        return decode.finally(()=>audioCtx.close());\n    });\n}\n/** Normalize peaks to -1..1 */ function $c03aca78159de43e$var$normalize(channelData) {\n    const firstChannel = channelData[0];\n    if (firstChannel.some((n)=>n > 1 || n < -1)) {\n        const length = firstChannel.length;\n        let max = 0;\n        for(let i = 0; i < length; i++){\n            const absN = Math.abs(firstChannel[i]);\n            if (absN > max) max = absN;\n        }\n        for (const channel of channelData)for(let i = 0; i < length; i++)channel[i] /= max;\n    }\n    return channelData;\n}\n/** Create an audio buffer from pre-decoded audio data */ function $c03aca78159de43e$var$createBuffer(channelData, duration) {\n    // If a single array of numbers is passed, make it an array of arrays\n    if (typeof channelData[0] === \"number\") channelData = [\n        channelData\n    ];\n    // Normalize to -1..1\n    $c03aca78159de43e$var$normalize(channelData);\n    return {\n        duration: duration,\n        length: channelData[0].length,\n        sampleRate: channelData[0].length / duration,\n        numberOfChannels: channelData.length,\n        getChannelData: (i)=>channelData === null || channelData === void 0 ? void 0 : channelData[i],\n        copyFromChannel: AudioBuffer.prototype.copyFromChannel,\n        copyToChannel: AudioBuffer.prototype.copyToChannel\n    };\n}\nconst $c03aca78159de43e$var$Decoder = {\n    decode: $c03aca78159de43e$var$decode,\n    createBuffer: $c03aca78159de43e$var$createBuffer\n};\nvar $c03aca78159de43e$export$2e2bcd8739ae039 = $c03aca78159de43e$var$Decoder;\n\n\nvar $064d4de22181c65c$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction $064d4de22181c65c$var$watchProgress(response, progressCallback) {\n    return $064d4de22181c65c$var$__awaiter(this, void 0, void 0, function*() {\n        if (!response.body || !response.headers) return;\n        const reader = response.body.getReader();\n        const contentLength = Number(response.headers.get(\"Content-Length\")) || 0;\n        let receivedLength = 0;\n        // Process the data\n        const processChunk = (value)=>$064d4de22181c65c$var$__awaiter(this, void 0, void 0, function*() {\n                // Add to the received length\n                receivedLength += (value === null || value === void 0 ? void 0 : value.length) || 0;\n                const percentage = Math.round(receivedLength / contentLength * 100);\n                progressCallback(percentage);\n            });\n        const read = ()=>$064d4de22181c65c$var$__awaiter(this, void 0, void 0, function*() {\n                let data;\n                try {\n                    data = yield reader.read();\n                } catch (_a) {\n                    // Ignore errors because we can only handle the main response\n                    return;\n                }\n                // Continue reading data until done\n                if (!data.done) {\n                    processChunk(data.value);\n                    yield read();\n                }\n            });\n        read();\n    });\n}\nfunction $064d4de22181c65c$var$fetchBlob(url, progressCallback, requestInit) {\n    return $064d4de22181c65c$var$__awaiter(this, void 0, void 0, function*() {\n        // Fetch the resource\n        const response = yield fetch(url, requestInit);\n        if (response.status >= 400) throw new Error(`Failed to fetch ${url}: ${response.status} (${response.statusText})`);\n        // Read the data to track progress\n        $064d4de22181c65c$var$watchProgress(response.clone(), progressCallback);\n        return response.blob();\n    });\n}\nconst $064d4de22181c65c$var$Fetcher = {\n    fetchBlob: $064d4de22181c65c$var$fetchBlob\n};\nvar $064d4de22181c65c$export$2e2bcd8739ae039 = $064d4de22181c65c$var$Fetcher;\n\n\n/** A simple event emitter that can be used to listen to and emit events. */ class $41fb24c6822f7f68$var$EventEmitter {\n    constructor(){\n        this.listeners = {};\n    }\n    /** Subscribe to an event. Returns an unsubscribe function. */ on(event, listener, options) {\n        if (!this.listeners[event]) this.listeners[event] = new Set();\n        this.listeners[event].add(listener);\n        if (options === null || options === void 0 ? void 0 : options.once) {\n            const unsubscribeOnce = ()=>{\n                this.un(event, unsubscribeOnce);\n                this.un(event, listener);\n            };\n            this.on(event, unsubscribeOnce);\n            return unsubscribeOnce;\n        }\n        return ()=>this.un(event, listener);\n    }\n    /** Unsubscribe from an event */ un(event, listener) {\n        var _a;\n        (_a = this.listeners[event]) === null || _a === void 0 || _a.delete(listener);\n    }\n    /** Subscribe to an event only once */ once(event, listener) {\n        return this.on(event, listener, {\n            once: true\n        });\n    }\n    /** Clear all events */ unAll() {\n        this.listeners = {};\n    }\n    /** Emit an event */ emit(eventName, ...args) {\n        if (this.listeners[eventName]) this.listeners[eventName].forEach((listener)=>listener(...args));\n    }\n}\nvar $41fb24c6822f7f68$export$2e2bcd8739ae039 = $41fb24c6822f7f68$var$EventEmitter;\n\n\nclass $33a4d7ed38deb55a$var$Player extends (0, $41fb24c6822f7f68$export$2e2bcd8739ae039) {\n    constructor(options){\n        super();\n        this.isExternalMedia = false;\n        if (options.media) {\n            this.media = options.media;\n            this.isExternalMedia = true;\n        } else this.media = document.createElement(\"audio\");\n        // Controls\n        if (options.mediaControls) this.media.controls = true;\n        // Autoplay\n        if (options.autoplay) this.media.autoplay = true;\n        // Speed\n        if (options.playbackRate != null) this.onceMediaEvent(\"canplay\", ()=>{\n            if (options.playbackRate != null) this.media.playbackRate = options.playbackRate;\n        });\n    }\n    onMediaEvent(event, callback, options) {\n        this.media.addEventListener(event, callback, options);\n        return ()=>this.media.removeEventListener(event, callback);\n    }\n    onceMediaEvent(event, callback) {\n        return this.onMediaEvent(event, callback, {\n            once: true\n        });\n    }\n    getSrc() {\n        return this.media.currentSrc || this.media.src || \"\";\n    }\n    revokeSrc() {\n        const src = this.getSrc();\n        if (src.startsWith(\"blob:\")) URL.revokeObjectURL(src);\n    }\n    canPlayType(type) {\n        return this.media.canPlayType(type) !== \"\";\n    }\n    setSrc(url, blob) {\n        const src = this.getSrc();\n        if (src === url) return;\n        this.revokeSrc();\n        const newSrc = blob instanceof Blob && this.canPlayType(blob.type) ? URL.createObjectURL(blob) : url;\n        this.media.src = newSrc;\n    }\n    destroy() {\n        this.media.pause();\n        if (this.isExternalMedia) return;\n        this.media.remove();\n        this.revokeSrc();\n        this.media.src = \"\";\n        // Load resets the media element to its initial state\n        this.media.load();\n    }\n    setMediaElement(element) {\n        this.media = element;\n    }\n    /** Start playing the audio */ play() {\n        return this.media.play();\n    }\n    /** Pause the audio */ pause() {\n        this.media.pause();\n    }\n    /** Check if the audio is playing */ isPlaying() {\n        return !this.media.paused && !this.media.ended;\n    }\n    /** Jumpt to a specific time in the audio (in seconds) */ setTime(time) {\n        this.media.currentTime = time;\n    }\n    /** Get the duration of the audio in seconds */ getDuration() {\n        return this.media.duration;\n    }\n    /** Get the current audio position in seconds */ getCurrentTime() {\n        return this.media.currentTime;\n    }\n    /** Get the audio volume */ getVolume() {\n        return this.media.volume;\n    }\n    /** Set the audio volume */ setVolume(volume) {\n        this.media.volume = volume;\n    }\n    /** Get the audio muted state */ getMuted() {\n        return this.media.muted;\n    }\n    /** Mute or unmute the audio */ setMuted(muted) {\n        this.media.muted = muted;\n    }\n    /** Get the playback speed */ getPlaybackRate() {\n        return this.media.playbackRate;\n    }\n    /** Set the playback speed, pass an optional false to NOT preserve the pitch */ setPlaybackRate(rate, preservePitch) {\n        // preservePitch is true by default in most browsers\n        if (preservePitch != null) this.media.preservesPitch = preservePitch;\n        this.media.playbackRate = rate;\n    }\n    /** Get the HTML media element */ getMediaElement() {\n        return this.media;\n    }\n    /** Set a sink id to change the audio output device */ setSinkId(sinkId) {\n        // See https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId\n        const media = this.media;\n        return media.setSinkId(sinkId);\n    }\n}\nvar $33a4d7ed38deb55a$export$2e2bcd8739ae039 = $33a4d7ed38deb55a$var$Player;\n\n\nfunction $8198ccc12399532a$export$ddfd007dd16e7e72(element, onDrag, onStart, onEnd, threshold = 3, mouseButton = 0) {\n    if (!element) return ()=>void 0;\n    let unsubscribeDocument = ()=>void 0;\n    const onPointerDown = (event)=>{\n        if (event.button !== mouseButton) return;\n        event.preventDefault();\n        event.stopPropagation();\n        let startX = event.clientX;\n        let startY = event.clientY;\n        let isDragging = false;\n        const onPointerMove = (event)=>{\n            event.preventDefault();\n            event.stopPropagation();\n            const x = event.clientX;\n            const y = event.clientY;\n            const dx = x - startX;\n            const dy = y - startY;\n            if (isDragging || Math.abs(dx) > threshold || Math.abs(dy) > threshold) {\n                const rect = element.getBoundingClientRect();\n                const { left: left, top: top } = rect;\n                if (!isDragging) {\n                    onStart === null || onStart === void 0 || onStart(startX - left, startY - top);\n                    isDragging = true;\n                }\n                onDrag(dx, dy, x - left, y - top);\n                startX = x;\n                startY = y;\n            }\n        };\n        const onPointerUp = ()=>{\n            if (isDragging) onEnd === null || onEnd === void 0 || onEnd();\n            unsubscribeDocument();\n        };\n        const onPointerLeave = (e)=>{\n            // Listen to events only on the document and not on inner elements\n            if (!e.relatedTarget || e.relatedTarget === document.documentElement) onPointerUp();\n        };\n        const onClick = (event)=>{\n            if (isDragging) {\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        };\n        const onTouchMove = (event)=>{\n            if (isDragging) event.preventDefault();\n        };\n        document.addEventListener(\"pointermove\", onPointerMove);\n        document.addEventListener(\"pointerup\", onPointerUp);\n        document.addEventListener(\"pointerout\", onPointerLeave);\n        document.addEventListener(\"pointercancel\", onPointerLeave);\n        document.addEventListener(\"touchmove\", onTouchMove, {\n            passive: false\n        });\n        document.addEventListener(\"click\", onClick, {\n            capture: true\n        });\n        unsubscribeDocument = ()=>{\n            document.removeEventListener(\"pointermove\", onPointerMove);\n            document.removeEventListener(\"pointerup\", onPointerUp);\n            document.removeEventListener(\"pointerout\", onPointerLeave);\n            document.removeEventListener(\"pointercancel\", onPointerLeave);\n            document.removeEventListener(\"touchmove\", onTouchMove);\n            setTimeout(()=>{\n                document.removeEventListener(\"click\", onClick, {\n                    capture: true\n                });\n            }, 10);\n        };\n    };\n    element.addEventListener(\"pointerdown\", onPointerDown);\n    return ()=>{\n        unsubscribeDocument();\n        element.removeEventListener(\"pointerdown\", onPointerDown);\n    };\n}\n\n\n\nvar $9dbf784afb0c7be3$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass $9dbf784afb0c7be3$var$Renderer extends (0, $41fb24c6822f7f68$export$2e2bcd8739ae039) {\n    constructor(options, audioElement){\n        super();\n        this.timeouts = [];\n        this.isScrollable = false;\n        this.audioData = null;\n        this.resizeObserver = null;\n        this.lastContainerWidth = 0;\n        this.isDragging = false;\n        this.options = options;\n        const parent = this.parentFromOptionsContainer(options.container);\n        this.parent = parent;\n        const [div, shadow] = this.initHtml();\n        parent.appendChild(div);\n        this.container = div;\n        this.scrollContainer = shadow.querySelector(\".scroll\");\n        this.wrapper = shadow.querySelector(\".wrapper\");\n        this.canvasWrapper = shadow.querySelector(\".canvases\");\n        this.progressWrapper = shadow.querySelector(\".progress\");\n        this.cursor = shadow.querySelector(\".cursor\");\n        if (audioElement) shadow.appendChild(audioElement);\n        this.initEvents();\n    }\n    parentFromOptionsContainer(container) {\n        let parent;\n        if (typeof container === \"string\") parent = document.querySelector(container);\n        else if (container instanceof HTMLElement) parent = container;\n        if (!parent) throw new Error(\"Container not found\");\n        return parent;\n    }\n    initEvents() {\n        const getClickPosition = (e)=>{\n            const rect = this.wrapper.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientX - rect.left;\n            const relativeX = x / rect.width;\n            const relativeY = y / rect.height;\n            return [\n                relativeX,\n                relativeY\n            ];\n        };\n        // Add a click listener\n        this.wrapper.addEventListener(\"click\", (e)=>{\n            const [x, y] = getClickPosition(e);\n            this.emit(\"click\", x, y);\n        });\n        // Add a double click listener\n        this.wrapper.addEventListener(\"dblclick\", (e)=>{\n            const [x, y] = getClickPosition(e);\n            this.emit(\"dblclick\", x, y);\n        });\n        // Drag\n        if (this.options.dragToSeek) this.initDrag();\n        // Add a scroll listener\n        this.scrollContainer.addEventListener(\"scroll\", ()=>{\n            const { scrollLeft: scrollLeft, scrollWidth: scrollWidth, clientWidth: clientWidth } = this.scrollContainer;\n            const startX = scrollLeft / scrollWidth;\n            const endX = (scrollLeft + clientWidth) / scrollWidth;\n            this.emit(\"scroll\", startX, endX);\n        });\n        // Re-render the waveform on container resize\n        const delay = this.createDelay(100);\n        this.resizeObserver = new ResizeObserver(()=>{\n            delay(()=>this.onContainerResize());\n        });\n        this.resizeObserver.observe(this.scrollContainer);\n    }\n    onContainerResize() {\n        const width = this.parent.clientWidth;\n        if (width === this.lastContainerWidth && this.options.height !== \"auto\") return;\n        this.lastContainerWidth = width;\n        this.reRender();\n    }\n    initDrag() {\n        (0, $8198ccc12399532a$export$ddfd007dd16e7e72)(this.wrapper, // On drag\n        (_, __, x)=>{\n            this.emit(\"drag\", Math.max(0, Math.min(1, x / this.wrapper.getBoundingClientRect().width)));\n        }, // On start drag\n        ()=>this.isDragging = true, // On end drag\n        ()=>this.isDragging = false);\n    }\n    getHeight(optionsHeight) {\n        const defaultHeight = 128;\n        if (optionsHeight == null) return defaultHeight;\n        if (!isNaN(Number(optionsHeight))) return Number(optionsHeight);\n        if (optionsHeight === \"auto\") return this.parent.clientHeight || defaultHeight;\n        return defaultHeight;\n    }\n    initHtml() {\n        const div = document.createElement(\"div\");\n        const shadow = div.attachShadow({\n            mode: \"open\"\n        });\n        shadow.innerHTML = `\n      <style>\n        :host {\n          user-select: none;\n          min-width: 1px;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight(this.options.height)}px;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class=\"scroll\" part=\"scroll\">\n        <div class=\"wrapper\" part=\"wrapper\">\n          <div class=\"canvases\"></div>\n          <div class=\"progress\" part=\"progress\"></div>\n          <div class=\"cursor\" part=\"cursor\"></div>\n        </div>\n      </div>\n    `;\n        return [\n            div,\n            shadow\n        ];\n    }\n    /** Wavesurfer itself calls this method. Do not call it manually. */ setOptions(options) {\n        if (this.options.container !== options.container) {\n            const newParent = this.parentFromOptionsContainer(options.container);\n            newParent.appendChild(this.container);\n            this.parent = newParent;\n        }\n        if (options.dragToSeek && !this.options.dragToSeek) this.initDrag();\n        this.options = options;\n        // Re-render the waveform\n        this.reRender();\n    }\n    getWrapper() {\n        return this.wrapper;\n    }\n    getScroll() {\n        return this.scrollContainer.scrollLeft;\n    }\n    destroy() {\n        var _a;\n        this.container.remove();\n        (_a = this.resizeObserver) === null || _a === void 0 || _a.disconnect();\n    }\n    createDelay(delayMs = 10) {\n        const context = {};\n        this.timeouts.push(context);\n        return (callback)=>{\n            context.timeout && clearTimeout(context.timeout);\n            context.timeout = setTimeout(callback, delayMs);\n        };\n    }\n    // Convert array of color values to linear gradient\n    convertColorValues(color) {\n        if (!Array.isArray(color)) return color || \"\";\n        if (color.length < 2) return color[0] || \"\";\n        const canvasElement = document.createElement(\"canvas\");\n        const ctx = canvasElement.getContext(\"2d\");\n        const gradientHeight = canvasElement.height * (window.devicePixelRatio || 1);\n        const gradient = ctx.createLinearGradient(0, 0, 0, gradientHeight);\n        const colorStopPercentage = 1 / (color.length - 1);\n        color.forEach((color, index)=>{\n            const offset = index * colorStopPercentage;\n            gradient.addColorStop(offset, color);\n        });\n        return gradient;\n    }\n    renderBarWaveform(channelData, options, ctx, vScale) {\n        const topChannel = channelData[0];\n        const bottomChannel = channelData[1] || channelData[0];\n        const length = topChannel.length;\n        const { width: width, height: height } = ctx.canvas;\n        const halfHeight = height / 2;\n        const pixelRatio = window.devicePixelRatio || 1;\n        const barWidth = options.barWidth ? options.barWidth * pixelRatio : 1;\n        const barGap = options.barGap ? options.barGap * pixelRatio : options.barWidth ? barWidth / 2 : 0;\n        const barRadius = options.barRadius || 0;\n        const barIndexScale = width / (barWidth + barGap) / length;\n        const rectFn = barRadius && \"roundRect\" in ctx ? \"roundRect\" : \"rect\";\n        ctx.beginPath();\n        let prevX = 0;\n        let maxTop = 0;\n        let maxBottom = 0;\n        for(let i = 0; i <= length; i++){\n            const x = Math.round(i * barIndexScale);\n            if (x > prevX) {\n                const topBarHeight = Math.round(maxTop * halfHeight * vScale);\n                const bottomBarHeight = Math.round(maxBottom * halfHeight * vScale);\n                const barHeight = topBarHeight + bottomBarHeight || 1;\n                // Vertical alignment\n                let y = halfHeight - topBarHeight;\n                if (options.barAlign === \"top\") y = 0;\n                else if (options.barAlign === \"bottom\") y = height - barHeight;\n                ctx[rectFn](prevX * (barWidth + barGap), y, barWidth, barHeight, barRadius);\n                prevX = x;\n                maxTop = 0;\n                maxBottom = 0;\n            }\n            const magnitudeTop = Math.abs(topChannel[i] || 0);\n            const magnitudeBottom = Math.abs(bottomChannel[i] || 0);\n            if (magnitudeTop > maxTop) maxTop = magnitudeTop;\n            if (magnitudeBottom > maxBottom) maxBottom = magnitudeBottom;\n        }\n        ctx.fill();\n        ctx.closePath();\n    }\n    renderLineWaveform(channelData, _options, ctx, vScale) {\n        const drawChannel = (index)=>{\n            const channel = channelData[index] || channelData[0];\n            const length = channel.length;\n            const { height: height } = ctx.canvas;\n            const halfHeight = height / 2;\n            const hScale = ctx.canvas.width / length;\n            ctx.moveTo(0, halfHeight);\n            let prevX = 0;\n            let max = 0;\n            for(let i = 0; i <= length; i++){\n                const x = Math.round(i * hScale);\n                if (x > prevX) {\n                    const h = Math.round(max * halfHeight * vScale) || 1;\n                    const y = halfHeight + h * (index === 0 ? -1 : 1);\n                    ctx.lineTo(prevX, y);\n                    prevX = x;\n                    max = 0;\n                }\n                const value = Math.abs(channel[i] || 0);\n                if (value > max) max = value;\n            }\n            ctx.lineTo(prevX, halfHeight);\n        };\n        ctx.beginPath();\n        drawChannel(0);\n        drawChannel(1);\n        ctx.fill();\n        ctx.closePath();\n    }\n    renderWaveform(channelData, options, ctx) {\n        ctx.fillStyle = this.convertColorValues(options.waveColor);\n        // Custom rendering function\n        if (options.renderFunction) {\n            options.renderFunction(channelData, ctx);\n            return;\n        }\n        // Vertical scaling\n        let vScale = options.barHeight || 1;\n        if (options.normalize) {\n            const max = Array.from(channelData[0]).reduce((max, value)=>Math.max(max, Math.abs(value)), 0);\n            vScale = max ? 1 / max : 1;\n        }\n        // Render waveform as bars\n        if (options.barWidth || options.barGap || options.barAlign) {\n            this.renderBarWaveform(channelData, options, ctx, vScale);\n            return;\n        }\n        // Render waveform as a polyline\n        this.renderLineWaveform(channelData, options, ctx, vScale);\n    }\n    renderSingleCanvas(channelData, options, width, height, start, end, canvasContainer, progressContainer) {\n        const pixelRatio = window.devicePixelRatio || 1;\n        const canvas = document.createElement(\"canvas\");\n        const length = channelData[0].length;\n        canvas.width = Math.round(width * (end - start) / length);\n        canvas.height = height * pixelRatio;\n        canvas.style.width = `${Math.floor(canvas.width / pixelRatio)}px`;\n        canvas.style.height = `${height}px`;\n        canvas.style.left = `${Math.floor(start * width / pixelRatio / length)}px`;\n        canvasContainer.appendChild(canvas);\n        const ctx = canvas.getContext(\"2d\");\n        this.renderWaveform(channelData.map((channel)=>channel.slice(start, end)), options, ctx);\n        // Draw a progress canvas\n        if (canvas.width > 0 && canvas.height > 0) {\n            const progressCanvas = canvas.cloneNode();\n            const progressCtx = progressCanvas.getContext(\"2d\");\n            progressCtx.drawImage(canvas, 0, 0);\n            // Set the composition method to draw only where the waveform is drawn\n            progressCtx.globalCompositeOperation = \"source-in\";\n            progressCtx.fillStyle = this.convertColorValues(options.progressColor);\n            // This rectangle acts as a mask thanks to the composition method\n            progressCtx.fillRect(0, 0, canvas.width, canvas.height);\n            progressContainer.appendChild(progressCanvas);\n        }\n    }\n    renderChannel(channelData, options, width, done) {\n        // A container for canvases\n        const canvasContainer = document.createElement(\"div\");\n        const height = this.getHeight(options.height);\n        canvasContainer.style.height = `${height}px`;\n        this.canvasWrapper.style.minHeight = `${height}px`;\n        this.canvasWrapper.appendChild(canvasContainer);\n        // A container for progress canvases\n        const progressContainer = canvasContainer.cloneNode();\n        this.progressWrapper.appendChild(progressContainer);\n        // Determine the currently visible part of the waveform\n        const { scrollLeft: scrollLeft, scrollWidth: scrollWidth, clientWidth: clientWidth } = this.scrollContainer;\n        const len = channelData[0].length;\n        const scale = len / scrollWidth;\n        let viewportWidth = Math.min($9dbf784afb0c7be3$var$Renderer.MAX_CANVAS_WIDTH, clientWidth);\n        // Adjust width to avoid gaps between canvases when using bars\n        if (options.barWidth || options.barGap) {\n            const barWidth = options.barWidth || 0.5;\n            const barGap = options.barGap || barWidth / 2;\n            const totalBarWidth = barWidth + barGap;\n            if (viewportWidth % totalBarWidth !== 0) viewportWidth = Math.floor(viewportWidth / totalBarWidth) * totalBarWidth;\n        }\n        const start = Math.floor(Math.abs(scrollLeft) * scale);\n        const end = Math.floor(start + viewportWidth * scale);\n        const viewportLen = end - start;\n        // Draw a portion of the waveform from start peak to end peak\n        const draw = (start, end)=>{\n            this.renderSingleCanvas(channelData, options, width, height, Math.max(0, start), Math.min(end, len), canvasContainer, progressContainer);\n        };\n        const status = {\n            head: false,\n            tail: end >= len\n        };\n        const complete = (type)=>{\n            status[type] = true;\n            if (status.head && status.tail) done();\n        };\n        // Draw the waveform in viewport chunks, each with a delay\n        const headDelay = this.createDelay();\n        const tailDelay = this.createDelay();\n        const renderHead = (fromIndex, toIndex)=>{\n            draw(fromIndex, toIndex);\n            if (fromIndex > 0) headDelay(()=>{\n                renderHead(fromIndex - viewportLen, toIndex - viewportLen);\n            });\n            else complete(\"head\");\n        };\n        const renderTail = (fromIndex, toIndex)=>{\n            draw(fromIndex, toIndex);\n            if (toIndex < len) tailDelay(()=>{\n                renderTail(fromIndex + viewportLen, toIndex + viewportLen);\n            });\n            else complete(\"tail\");\n        };\n        renderHead(start, end);\n        if (end < len) renderTail(end, end + viewportLen);\n    }\n    render(audioData) {\n        // Clear previous timeouts\n        this.timeouts.forEach((context)=>context.timeout && clearTimeout(context.timeout));\n        this.timeouts = [];\n        // Clear the canvases\n        this.canvasWrapper.innerHTML = \"\";\n        this.progressWrapper.innerHTML = \"\";\n        // Width\n        if (this.options.width != null) this.scrollContainer.style.width = typeof this.options.width === \"number\" ? `${this.options.width}px` : this.options.width;\n        // Determine the width of the waveform\n        const pixelRatio = window.devicePixelRatio || 1;\n        const parentWidth = this.scrollContainer.clientWidth;\n        const scrollWidth = Math.ceil(audioData.duration * (this.options.minPxPerSec || 0));\n        // Whether the container should scroll\n        this.isScrollable = scrollWidth > parentWidth;\n        const useParentWidth = this.options.fillParent && !this.isScrollable;\n        // Width of the waveform in pixels\n        const width = (useParentWidth ? parentWidth : scrollWidth) * pixelRatio;\n        // Set the width of the wrapper\n        this.wrapper.style.width = useParentWidth ? \"100%\" : `${scrollWidth}px`;\n        // Set additional styles\n        this.scrollContainer.style.overflowX = this.isScrollable ? \"auto\" : \"hidden\";\n        this.scrollContainer.classList.toggle(\"noScrollbar\", !!this.options.hideScrollbar);\n        this.cursor.style.backgroundColor = `${this.options.cursorColor || this.options.progressColor}`;\n        this.cursor.style.width = `${this.options.cursorWidth}px`;\n        // Render the waveform\n        if (this.options.splitChannels) {\n            let counter = 0;\n            const done = ()=>{\n                counter++;\n                if (counter === audioData.numberOfChannels) this.emit(\"rendered\");\n            };\n            // Render a waveform for each channel\n            for(let i = 0; i < audioData.numberOfChannels; i++){\n                const options = Object.assign(Object.assign({}, this.options), this.options.splitChannels[i]);\n                this.renderChannel([\n                    audioData.getChannelData(i)\n                ], options, width, done);\n            }\n        } else {\n            // Render a single waveform for the first two channels (left and right)\n            const channels = [\n                audioData.getChannelData(0)\n            ];\n            if (audioData.numberOfChannels > 1) channels.push(audioData.getChannelData(1));\n            this.renderChannel(channels, this.options, width, ()=>this.emit(\"rendered\"));\n        }\n        this.audioData = audioData;\n        this.emit(\"render\");\n    }\n    reRender() {\n        // Return if the waveform has not been rendered yet\n        if (!this.audioData) return;\n        // Remember the current cursor position\n        const { scrollWidth: scrollWidth } = this.scrollContainer;\n        const oldCursorPosition = this.progressWrapper.clientWidth;\n        // Re-render the waveform\n        this.render(this.audioData);\n        // Adjust the scroll position so that the cursor stays in the same place\n        if (this.isScrollable && scrollWidth !== this.scrollContainer.scrollWidth) {\n            const newCursorPosition = this.progressWrapper.clientWidth;\n            this.scrollContainer.scrollLeft += newCursorPosition - oldCursorPosition;\n        }\n    }\n    zoom(minPxPerSec) {\n        this.options.minPxPerSec = minPxPerSec;\n        this.reRender();\n    }\n    scrollIntoView(progress, isPlaying = false) {\n        const { scrollLeft: scrollLeft, scrollWidth: scrollWidth, clientWidth: clientWidth } = this.scrollContainer;\n        const progressWidth = progress * scrollWidth;\n        const startEdge = scrollLeft;\n        const endEdge = scrollLeft + clientWidth;\n        const middle = clientWidth / 2;\n        if (this.isDragging) {\n            // Scroll when dragging close to the edge of the viewport\n            const minGap = 30;\n            if (progressWidth + minGap > endEdge) this.scrollContainer.scrollLeft += minGap;\n            else if (progressWidth - minGap < startEdge) this.scrollContainer.scrollLeft -= minGap;\n        } else {\n            if (progressWidth < startEdge || progressWidth > endEdge) this.scrollContainer.scrollLeft = progressWidth - (this.options.autoCenter ? middle : 0);\n            // Keep the cursor centered when playing\n            const center = progressWidth - scrollLeft - middle;\n            if (isPlaying && this.options.autoCenter && center > 0) this.scrollContainer.scrollLeft += Math.min(center, 10);\n        }\n        // Emit the scroll event\n        {\n            const newScroll = this.scrollContainer.scrollLeft;\n            const startX = newScroll / scrollWidth;\n            const endX = (newScroll + clientWidth) / scrollWidth;\n            this.emit(\"scroll\", startX, endX);\n        }\n    }\n    renderProgress(progress, isPlaying) {\n        if (isNaN(progress)) return;\n        const percents = progress * 100;\n        this.canvasWrapper.style.clipPath = `polygon(${percents}% 0, 100% 0, 100% 100%, ${percents}% 100%)`;\n        this.progressWrapper.style.width = `${percents}%`;\n        this.cursor.style.left = `${percents}%`;\n        this.cursor.style.marginLeft = Math.round(percents) === 100 ? `-${this.options.cursorWidth}px` : \"\";\n        if (this.isScrollable && this.options.autoScroll) this.scrollIntoView(progress, isPlaying);\n    }\n    exportImage(format, quality, type) {\n        return $9dbf784afb0c7be3$var$__awaiter(this, void 0, void 0, function*() {\n            const canvases = this.canvasWrapper.querySelectorAll(\"canvas\");\n            if (!canvases.length) throw new Error(\"No waveform data\");\n            // Data URLs\n            if (type === \"dataURL\") {\n                const images = Array.from(canvases).map((canvas)=>canvas.toDataURL(format, quality));\n                return Promise.resolve(images);\n            }\n            // Blobs\n            return Promise.all(Array.from(canvases).map((canvas)=>{\n                return new Promise((resolve, reject)=>{\n                    canvas.toBlob((blob)=>{\n                        blob ? resolve(blob) : reject(new Error(\"Could not export image\"));\n                    }, format, quality);\n                });\n            }));\n        });\n    }\n}\n$9dbf784afb0c7be3$var$Renderer.MAX_CANVAS_WIDTH = 4000;\nvar $9dbf784afb0c7be3$export$2e2bcd8739ae039 = $9dbf784afb0c7be3$var$Renderer;\n\n\n\nclass $3eb19631013a78b4$var$Timer extends (0, $41fb24c6822f7f68$export$2e2bcd8739ae039) {\n    constructor(){\n        super(...arguments);\n        this.unsubscribe = ()=>undefined;\n    }\n    start() {\n        this.unsubscribe = this.on(\"tick\", ()=>{\n            requestAnimationFrame(()=>{\n                this.emit(\"tick\");\n            });\n        });\n        this.emit(\"tick\");\n    }\n    stop() {\n        this.unsubscribe();\n    }\n    destroy() {\n        this.unsubscribe();\n    }\n}\nvar $3eb19631013a78b4$export$2e2bcd8739ae039 = $3eb19631013a78b4$var$Timer;\n\n\n\nvar $144984c8dc4f08bd$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * A Web Audio buffer player emulating the behavior of an HTML5 Audio element.\n */ class $144984c8dc4f08bd$var$WebAudioPlayer extends (0, $41fb24c6822f7f68$export$2e2bcd8739ae039) {\n    constructor(audioContext = new AudioContext()){\n        super();\n        this.bufferNode = null;\n        this.autoplay = false;\n        this.playStartTime = 0;\n        this.playedDuration = 0;\n        this._muted = false;\n        this.buffer = null;\n        this.currentSrc = \"\";\n        this.paused = true;\n        this.crossOrigin = null;\n        /** Subscribe to an event. Returns an unsubscribe function. */ this.addEventListener = this.on;\n        /** Unsubscribe from an event */ this.removeEventListener = this.un;\n        this.audioContext = audioContext;\n        this.gainNode = this.audioContext.createGain();\n        this.gainNode.connect(this.audioContext.destination);\n    }\n    load() {\n        return $144984c8dc4f08bd$var$__awaiter(this, void 0, void 0, function*() {\n            return;\n        });\n    }\n    get src() {\n        return this.currentSrc;\n    }\n    set src(value) {\n        this.currentSrc = value;\n        if (!value) {\n            this.buffer = null;\n            this.emit(\"emptied\");\n            return;\n        }\n        fetch(value).then((response)=>response.arrayBuffer()).then((arrayBuffer)=>{\n            if (this.currentSrc !== value) return null;\n            return this.audioContext.decodeAudioData(arrayBuffer);\n        }).then((audioBuffer)=>{\n            if (this.currentSrc !== value) return;\n            this.buffer = audioBuffer;\n            this.emit(\"loadedmetadata\");\n            this.emit(\"canplay\");\n            if (this.autoplay) this.play();\n        });\n    }\n    _play() {\n        var _a;\n        if (!this.paused) return;\n        this.paused = false;\n        (_a = this.bufferNode) === null || _a === void 0 || _a.disconnect();\n        this.bufferNode = this.audioContext.createBufferSource();\n        this.bufferNode.buffer = this.buffer;\n        this.bufferNode.connect(this.gainNode);\n        if (this.playedDuration >= this.duration) this.playedDuration = 0;\n        this.bufferNode.start(this.audioContext.currentTime, this.playedDuration);\n        this.playStartTime = this.audioContext.currentTime;\n        this.bufferNode.onended = ()=>{\n            if (this.currentTime >= this.duration) {\n                this.pause();\n                this.emit(\"ended\");\n            }\n        };\n    }\n    _pause() {\n        var _a;\n        if (this.paused) return;\n        this.paused = true;\n        (_a = this.bufferNode) === null || _a === void 0 || _a.stop();\n        this.playedDuration += this.audioContext.currentTime - this.playStartTime;\n    }\n    play() {\n        return $144984c8dc4f08bd$var$__awaiter(this, void 0, void 0, function*() {\n            this._play();\n            this.emit(\"play\");\n        });\n    }\n    pause() {\n        this._pause();\n        this.emit(\"pause\");\n    }\n    stopAt(timeSeconds) {\n        var _a, _b;\n        const delay = timeSeconds - this.currentTime;\n        (_a = this.bufferNode) === null || _a === void 0 || _a.stop(this.audioContext.currentTime + delay);\n        (_b = this.bufferNode) === null || _b === void 0 || _b.addEventListener(\"ended\", ()=>{\n            this.bufferNode = null;\n            this.pause();\n        }, {\n            once: true\n        });\n    }\n    setSinkId(deviceId) {\n        return $144984c8dc4f08bd$var$__awaiter(this, void 0, void 0, function*() {\n            const ac = this.audioContext;\n            return ac.setSinkId(deviceId);\n        });\n    }\n    get playbackRate() {\n        var _a, _b;\n        return (_b = (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.playbackRate.value) !== null && _b !== void 0 ? _b : 1;\n    }\n    set playbackRate(value) {\n        if (this.bufferNode) this.bufferNode.playbackRate.value = value;\n    }\n    get currentTime() {\n        return this.paused ? this.playedDuration : this.playedDuration + this.audioContext.currentTime - this.playStartTime;\n    }\n    set currentTime(value) {\n        this.emit(\"seeking\");\n        if (this.paused) this.playedDuration = value;\n        else {\n            this._pause();\n            this.playedDuration = value;\n            this._play();\n        }\n        this.emit(\"timeupdate\");\n    }\n    get duration() {\n        var _a;\n        return ((_a = this.buffer) === null || _a === void 0 ? void 0 : _a.duration) || 0;\n    }\n    get volume() {\n        return this.gainNode.gain.value;\n    }\n    set volume(value) {\n        this.gainNode.gain.value = value;\n        this.emit(\"volumechange\");\n    }\n    get muted() {\n        return this._muted;\n    }\n    set muted(value) {\n        if (this._muted === value) return;\n        this._muted = value;\n        if (this._muted) this.gainNode.disconnect();\n        else this.gainNode.connect(this.audioContext.destination);\n    }\n    canPlayType(mimeType) {\n        return /^(audio|video)\\//.test(mimeType);\n    }\n    /** Get the GainNode used to play the audio. Can be used to attach filters. */ getGainNode() {\n        return this.gainNode;\n    }\n    /** Get decoded audio */ getChannelData() {\n        const channels = [];\n        if (!this.buffer) return channels;\n        const numChannels = this.buffer.numberOfChannels;\n        for(let i = 0; i < numChannels; i++)channels.push(this.buffer.getChannelData(i));\n        return channels;\n    }\n}\nvar $144984c8dc4f08bd$export$2e2bcd8739ae039 = $144984c8dc4f08bd$var$WebAudioPlayer;\n\n\nvar $182ce0f141db4820$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst $182ce0f141db4820$var$defaultOptions = {\n    waveColor: \"#999\",\n    progressColor: \"#555\",\n    cursorWidth: 1,\n    minPxPerSec: 0,\n    fillParent: true,\n    interact: true,\n    dragToSeek: false,\n    autoScroll: true,\n    autoCenter: true,\n    sampleRate: 8000\n};\nclass $182ce0f141db4820$var$WaveSurfer extends (0, $33a4d7ed38deb55a$export$2e2bcd8739ae039) {\n    /** Create a new WaveSurfer instance */ static create(options) {\n        return new $182ce0f141db4820$var$WaveSurfer(options);\n    }\n    /** Create a new WaveSurfer instance */ constructor(options){\n        const media = options.media || (options.backend === \"WebAudio\" ? new (0, $144984c8dc4f08bd$export$2e2bcd8739ae039)() : undefined);\n        super({\n            media: media,\n            mediaControls: options.mediaControls,\n            autoplay: options.autoplay,\n            playbackRate: options.audioRate\n        });\n        this.plugins = [];\n        this.decodedData = null;\n        this.subscriptions = [];\n        this.mediaSubscriptions = [];\n        this.options = Object.assign({}, $182ce0f141db4820$var$defaultOptions, options);\n        this.timer = new (0, $3eb19631013a78b4$export$2e2bcd8739ae039)();\n        const audioElement = media ? undefined : this.getMediaElement();\n        this.renderer = new (0, $9dbf784afb0c7be3$export$2e2bcd8739ae039)(this.options, audioElement);\n        this.initPlayerEvents();\n        this.initRendererEvents();\n        this.initTimerEvents();\n        this.initPlugins();\n        // Init and load async to allow external events to be registered\n        Promise.resolve().then(()=>{\n            this.emit(\"init\");\n            // Load audio if URL or an external media with an src is passed,\n            // of render w/o audio if pre-decoded peaks and duration are provided\n            const url = this.options.url || this.getSrc() || \"\";\n            if (url || this.options.peaks && this.options.duration) this.load(url, this.options.peaks, this.options.duration);\n        });\n    }\n    initTimerEvents() {\n        // The timer fires every 16ms for a smooth progress animation\n        this.subscriptions.push(this.timer.on(\"tick\", ()=>{\n            const currentTime = this.getCurrentTime();\n            this.renderer.renderProgress(currentTime / this.getDuration(), true);\n            this.emit(\"timeupdate\", currentTime);\n            this.emit(\"audioprocess\", currentTime);\n        }));\n    }\n    initPlayerEvents() {\n        if (this.isPlaying()) {\n            this.emit(\"play\");\n            this.timer.start();\n        }\n        this.mediaSubscriptions.push(this.onMediaEvent(\"timeupdate\", ()=>{\n            const currentTime = this.getCurrentTime();\n            this.renderer.renderProgress(currentTime / this.getDuration(), this.isPlaying());\n            this.emit(\"timeupdate\", currentTime);\n        }), this.onMediaEvent(\"play\", ()=>{\n            this.emit(\"play\");\n            this.timer.start();\n        }), this.onMediaEvent(\"pause\", ()=>{\n            this.emit(\"pause\");\n            this.timer.stop();\n        }), this.onMediaEvent(\"emptied\", ()=>{\n            this.timer.stop();\n        }), this.onMediaEvent(\"ended\", ()=>{\n            this.emit(\"finish\");\n        }), this.onMediaEvent(\"seeking\", ()=>{\n            this.emit(\"seeking\", this.getCurrentTime());\n        }));\n    }\n    initRendererEvents() {\n        this.subscriptions.push(// Seek on click\n        this.renderer.on(\"click\", (relativeX, relativeY)=>{\n            if (this.options.interact) {\n                this.seekTo(relativeX);\n                this.emit(\"interaction\", relativeX * this.getDuration());\n                this.emit(\"click\", relativeX, relativeY);\n            }\n        }), // Double click\n        this.renderer.on(\"dblclick\", (relativeX, relativeY)=>{\n            this.emit(\"dblclick\", relativeX, relativeY);\n        }), // Scroll\n        this.renderer.on(\"scroll\", (startX, endX)=>{\n            const duration = this.getDuration();\n            this.emit(\"scroll\", startX * duration, endX * duration);\n        }), // Redraw\n        this.renderer.on(\"render\", ()=>{\n            this.emit(\"redraw\");\n        }), // RedrawComplete\n        this.renderer.on(\"rendered\", ()=>{\n            this.emit(\"redrawcomplete\");\n        }));\n        // Drag\n        {\n            let debounce;\n            this.subscriptions.push(this.renderer.on(\"drag\", (relativeX)=>{\n                if (!this.options.interact) return;\n                // Update the visual position\n                this.renderer.renderProgress(relativeX);\n                // Set the audio position with a debounce\n                clearTimeout(debounce);\n                debounce = setTimeout(()=>{\n                    this.seekTo(relativeX);\n                }, this.isPlaying() ? 0 : 200);\n                this.emit(\"interaction\", relativeX * this.getDuration());\n                this.emit(\"drag\", relativeX);\n            }));\n        }\n    }\n    initPlugins() {\n        var _a;\n        if (!((_a = this.options.plugins) === null || _a === void 0 ? void 0 : _a.length)) return;\n        this.options.plugins.forEach((plugin)=>{\n            this.registerPlugin(plugin);\n        });\n    }\n    unsubscribePlayerEvents() {\n        this.mediaSubscriptions.forEach((unsubscribe)=>unsubscribe());\n        this.mediaSubscriptions = [];\n    }\n    /** Set new wavesurfer options and re-render it */ setOptions(options) {\n        this.options = Object.assign({}, this.options, options);\n        this.renderer.setOptions(this.options);\n        if (options.audioRate) this.setPlaybackRate(options.audioRate);\n        if (options.mediaControls != null) this.getMediaElement().controls = options.mediaControls;\n    }\n    /** Register a wavesurfer.js plugin */ registerPlugin(plugin) {\n        plugin._init(this);\n        this.plugins.push(plugin);\n        // Unregister plugin on destroy\n        this.subscriptions.push(plugin.once(\"destroy\", ()=>{\n            this.plugins = this.plugins.filter((p)=>p !== plugin);\n        }));\n        return plugin;\n    }\n    /** For plugins only: get the waveform wrapper div */ getWrapper() {\n        return this.renderer.getWrapper();\n    }\n    /** Get the current scroll position in pixels */ getScroll() {\n        return this.renderer.getScroll();\n    }\n    /** Get all registered plugins */ getActivePlugins() {\n        return this.plugins;\n    }\n    loadAudio(url, blob, channelData, duration) {\n        return $182ce0f141db4820$var$__awaiter(this, void 0, void 0, function*() {\n            this.emit(\"load\", url);\n            if (!this.options.media && this.isPlaying()) this.pause();\n            this.decodedData = null;\n            // Fetch the entire audio as a blob if pre-decoded data is not provided\n            if (!blob && !channelData) {\n                const onProgress = (percentage)=>this.emit(\"loading\", percentage);\n                blob = yield (0, $064d4de22181c65c$export$2e2bcd8739ae039).fetchBlob(url, onProgress, this.options.fetchParams);\n            }\n            // Set the mediaelement source\n            this.setSrc(url, blob);\n            // Wait for the audio duration\n            const audioDuration = duration || this.getDuration() || (yield new Promise((resolve)=>{\n                this.onceMediaEvent(\"loadedmetadata\", ()=>resolve(this.getDuration()));\n            }));\n            // Decode the audio data or use user-provided peaks\n            if (channelData) this.decodedData = (0, $c03aca78159de43e$export$2e2bcd8739ae039).createBuffer(channelData, audioDuration || 0);\n            else if (blob) {\n                const arrayBuffer = yield blob.arrayBuffer();\n                this.decodedData = yield (0, $c03aca78159de43e$export$2e2bcd8739ae039).decode(arrayBuffer, this.options.sampleRate);\n            }\n            if (this.decodedData) {\n                this.emit(\"decode\", this.getDuration());\n                this.renderer.render(this.decodedData);\n            }\n            this.emit(\"ready\", this.getDuration());\n        });\n    }\n    /** Load an audio file by URL, with optional pre-decoded audio data */ load(url, channelData, duration) {\n        return $182ce0f141db4820$var$__awaiter(this, void 0, void 0, function*() {\n            yield this.loadAudio(url, undefined, channelData, duration);\n        });\n    }\n    /** Load an audio blob */ loadBlob(blob, channelData, duration) {\n        return $182ce0f141db4820$var$__awaiter(this, void 0, void 0, function*() {\n            yield this.loadAudio(\"blob\", blob, channelData, duration);\n        });\n    }\n    /** Zoom the waveform by a given pixels-per-second factor */ zoom(minPxPerSec) {\n        if (!this.decodedData) throw new Error(\"No audio loaded\");\n        this.renderer.zoom(minPxPerSec);\n        this.emit(\"zoom\", minPxPerSec);\n    }\n    /** Get the decoded audio data */ getDecodedData() {\n        return this.decodedData;\n    }\n    /** Get decoded peaks */ exportPeaks({ channels: channels = 2, maxLength: maxLength = 8000, precision: precision = 10000 } = {}) {\n        if (!this.decodedData) throw new Error(\"The audio has not been decoded yet\");\n        const maxChannels = Math.min(channels, this.decodedData.numberOfChannels);\n        const peaks = [];\n        for(let i = 0; i < maxChannels; i++){\n            const channel = this.decodedData.getChannelData(i);\n            const data = [];\n            const sampleSize = Math.round(channel.length / maxLength);\n            for(let i = 0; i < maxLength; i++){\n                const sample = channel.slice(i * sampleSize, (i + 1) * sampleSize);\n                let max = 0;\n                for(let x = 0; x < sample.length; x++){\n                    const n = sample[x];\n                    if (Math.abs(n) > Math.abs(max)) max = n;\n                }\n                data.push(Math.round(max * precision) / precision);\n            }\n            peaks.push(data);\n        }\n        return peaks;\n    }\n    /** Get the duration of the audio in seconds */ getDuration() {\n        let duration = super.getDuration() || 0;\n        // Fall back to the decoded data duration if the media duration is incorrect\n        if ((duration === 0 || duration === Infinity) && this.decodedData) duration = this.decodedData.duration;\n        return duration;\n    }\n    /** Toggle if the waveform should react to clicks */ toggleInteraction(isInteractive) {\n        this.options.interact = isInteractive;\n    }\n    /** Seek to a percentage of audio as [0..1] (0 = beginning, 1 = end) */ seekTo(progress) {\n        const time = this.getDuration() * progress;\n        this.setTime(time);\n    }\n    /** Play or pause the audio */ playPause() {\n        return $182ce0f141db4820$var$__awaiter(this, void 0, void 0, function*() {\n            return this.isPlaying() ? this.pause() : this.play();\n        });\n    }\n    /** Stop the audio and go to the beginning */ stop() {\n        this.pause();\n        this.setTime(0);\n    }\n    /** Skip N or -N seconds from the current position */ skip(seconds) {\n        this.setTime(this.getCurrentTime() + seconds);\n    }\n    /** Empty the waveform */ empty() {\n        this.load(\"\", [\n            [\n                0\n            ]\n        ], 0.001);\n    }\n    /** Set HTML media element */ setMediaElement(element) {\n        this.unsubscribePlayerEvents();\n        super.setMediaElement(element);\n        this.initPlayerEvents();\n    }\n    exportImage(format = \"image/png\", quality = 1, type = \"dataURL\") {\n        return $182ce0f141db4820$var$__awaiter(this, void 0, void 0, function*() {\n            return this.renderer.exportImage(format, quality, type);\n        });\n    }\n    /** Unmount wavesurfer */ destroy() {\n        this.emit(\"destroy\");\n        this.plugins.forEach((plugin)=>plugin.destroy());\n        this.subscriptions.forEach((unsubscribe)=>unsubscribe());\n        this.unsubscribePlayerEvents();\n        this.timer.destroy();\n        this.renderer.destroy();\n        super.destroy();\n    }\n}\nvar $182ce0f141db4820$export$2e2bcd8739ae039 = $182ce0f141db4820$var$WaveSurfer;\n\n\nclass $1ebac55772351390$var$t {\n    constructor(){\n        this.listeners = {};\n    }\n    on(t, e, i) {\n        if (this.listeners[t] || (this.listeners[t] = new Set), this.listeners[t].add(e), null == i ? void 0 : i.once) {\n            const i = ()=>{\n                this.un(t, i), this.un(t, e);\n            };\n            return this.on(t, i), i;\n        }\n        return ()=>this.un(t, e);\n    }\n    un(t, e) {\n        var i;\n        null === (i = this.listeners[t]) || void 0 === i || i.delete(e);\n    }\n    once(t, e) {\n        return this.on(t, e, {\n            once: !0\n        });\n    }\n    unAll() {\n        this.listeners = {};\n    }\n    emit(t, ...e) {\n        this.listeners[t] && this.listeners[t].forEach((t)=>t(...e));\n    }\n}\nclass $1ebac55772351390$var$e extends $1ebac55772351390$var$t {\n    constructor(t){\n        super(), this.subscriptions = [], this.options = t;\n    }\n    onInit() {}\n    _init(t) {\n        this.wavesurfer = t, this.onInit();\n    }\n    destroy() {\n        this.emit(\"destroy\"), this.subscriptions.forEach((t)=>t());\n    }\n}\nfunction $1ebac55772351390$var$i(t, e, i, n, s = 3, o = 0) {\n    if (!t) return ()=>{};\n    let r = ()=>{};\n    const a = (a)=>{\n        if (a.button !== o) return;\n        a.preventDefault(), a.stopPropagation();\n        let l = a.clientX, h = a.clientY, d = !1;\n        const c = (n)=>{\n            n.preventDefault(), n.stopPropagation();\n            const o = n.clientX, r = n.clientY, a = o - l, c = r - h;\n            if (d || Math.abs(a) > s || Math.abs(c) > s) {\n                const n = t.getBoundingClientRect(), { left: s, top: u } = n;\n                d || (null == i || i(l - s, h - u), d = !0), e(a, c, o - s, r - u), l = o, h = r;\n            }\n        }, u = ()=>{\n            d && (null == n || n()), r();\n        }, g = (t)=>{\n            t.relatedTarget && t.relatedTarget !== document.documentElement || u();\n        }, v = (t)=>{\n            d && (t.stopPropagation(), t.preventDefault());\n        }, p = (t)=>{\n            d && t.preventDefault();\n        };\n        document.addEventListener(\"pointermove\", c), document.addEventListener(\"pointerup\", u), document.addEventListener(\"pointerout\", g), document.addEventListener(\"pointercancel\", g), document.addEventListener(\"touchmove\", p, {\n            passive: !1\n        }), document.addEventListener(\"click\", v, {\n            capture: !0\n        }), r = ()=>{\n            document.removeEventListener(\"pointermove\", c), document.removeEventListener(\"pointerup\", u), document.removeEventListener(\"pointerout\", g), document.removeEventListener(\"pointercancel\", g), document.removeEventListener(\"touchmove\", p), setTimeout(()=>{\n                document.removeEventListener(\"click\", v, {\n                    capture: !0\n                });\n            }, 10);\n        };\n    };\n    return t.addEventListener(\"pointerdown\", a), ()=>{\n        r(), t.removeEventListener(\"pointerdown\", a);\n    };\n}\nfunction $1ebac55772351390$var$n(t, e) {\n    const i = e.xmlns ? document.createElementNS(e.xmlns, t) : document.createElement(t);\n    for (const [t, s] of Object.entries(e))if (\"children\" === t) for (const [t, s] of Object.entries(e))\"string\" == typeof s ? i.appendChild(document.createTextNode(s)) : i.appendChild($1ebac55772351390$var$n(t, s));\n    else \"style\" === t ? Object.assign(i.style, s) : \"textContent\" === t ? i.textContent = s : i.setAttribute(t, s.toString());\n    return i;\n}\nfunction $1ebac55772351390$var$s(t, e, i) {\n    const s = $1ebac55772351390$var$n(t, e || {});\n    return null == i || i.appendChild(s), s;\n}\nclass $1ebac55772351390$var$o extends $1ebac55772351390$var$t {\n    constructor(t, e, i = 0){\n        var n, s, o, r, a, l, h, d;\n        super(), this.totalDuration = e, this.numberOfChannels = i, this.minLength = 0, this.maxLength = 1 / 0, this.contentEditable = !1, this.id = t.id || `region-${Math.random().toString(32).slice(2)}`, this.start = this.clampPosition(t.start), this.end = this.clampPosition(null !== (n = t.end) && void 0 !== n ? n : t.start), this.drag = null === (s = t.drag) || void 0 === s || s, this.resize = null === (o = t.resize) || void 0 === o || o, this.color = null !== (r = t.color) && void 0 !== r ? r : \"rgba(0, 0, 0, 0.1)\", this.minLength = null !== (a = t.minLength) && void 0 !== a ? a : this.minLength, this.maxLength = null !== (l = t.maxLength) && void 0 !== l ? l : this.maxLength, this.channelIdx = null !== (h = t.channelIdx) && void 0 !== h ? h : -1, this.contentEditable = null !== (d = t.contentEditable) && void 0 !== d ? d : this.contentEditable, this.element = this.initElement(), this.setContent(t.content), this.setPart(), this.renderPosition(), this.initMouseEvents();\n    }\n    clampPosition(t) {\n        return Math.max(0, Math.min(this.totalDuration, t));\n    }\n    setPart() {\n        const t = this.start === this.end;\n        this.element.setAttribute(\"part\", `${t ? \"marker\" : \"region\"} ${this.id}`);\n    }\n    addResizeHandles(t) {\n        const e = {\n            position: \"absolute\",\n            zIndex: \"2\",\n            width: \"6px\",\n            height: \"100%\",\n            top: \"0\",\n            cursor: \"ew-resize\",\n            wordBreak: \"keep-all\"\n        }, n = $1ebac55772351390$var$s(\"div\", {\n            part: \"region-handle region-handle-left\",\n            style: Object.assign(Object.assign({}, e), {\n                left: \"0\",\n                borderLeft: \"2px solid rgba(0, 0, 0, 0.5)\",\n                borderRadius: \"2px 0 0 2px\"\n            })\n        }, t), o = $1ebac55772351390$var$s(\"div\", {\n            part: \"region-handle region-handle-right\",\n            style: Object.assign(Object.assign({}, e), {\n                right: \"0\",\n                borderRight: \"2px solid rgba(0, 0, 0, 0.5)\",\n                borderRadius: \"0 2px 2px 0\"\n            })\n        }, t);\n        $1ebac55772351390$var$i(n, (t)=>this.onResize(t, \"start\"), ()=>null, ()=>this.onEndResizing(), 1), $1ebac55772351390$var$i(o, (t)=>this.onResize(t, \"end\"), ()=>null, ()=>this.onEndResizing(), 1);\n    }\n    removeResizeHandles(t) {\n        const e = t.querySelector('[part*=\"region-handle-left\"]'), i = t.querySelector('[part*=\"region-handle-right\"]');\n        e && t.removeChild(e), i && t.removeChild(i);\n    }\n    initElement() {\n        const t = this.start === this.end;\n        let e = 0, i = 100;\n        this.channelIdx >= 0 && this.channelIdx < this.numberOfChannels && (i = 100 / this.numberOfChannels, e = i * this.channelIdx);\n        const n = $1ebac55772351390$var$s(\"div\", {\n            style: {\n                position: \"absolute\",\n                top: `${e}%`,\n                height: `${i}%`,\n                backgroundColor: t ? \"none\" : this.color,\n                borderLeft: t ? \"2px solid \" + this.color : \"none\",\n                borderRadius: \"2px\",\n                boxSizing: \"border-box\",\n                transition: \"background-color 0.2s ease\",\n                cursor: this.drag ? \"grab\" : \"default\",\n                pointerEvents: \"all\"\n            }\n        });\n        return !t && this.resize && this.addResizeHandles(n), n;\n    }\n    renderPosition() {\n        const t = this.start / this.totalDuration, e = (this.totalDuration - this.end) / this.totalDuration;\n        this.element.style.left = 100 * t + \"%\", this.element.style.right = 100 * e + \"%\";\n    }\n    toggleCursor(t) {\n        this.drag && (this.element.style.cursor = t ? \"grabbing\" : \"grab\");\n    }\n    initMouseEvents() {\n        const { element: t } = this;\n        t && (t.addEventListener(\"click\", (t)=>this.emit(\"click\", t)), t.addEventListener(\"mouseenter\", (t)=>this.emit(\"over\", t)), t.addEventListener(\"mouseleave\", (t)=>this.emit(\"leave\", t)), t.addEventListener(\"dblclick\", (t)=>this.emit(\"dblclick\", t)), t.addEventListener(\"pointerdown\", ()=>this.toggleCursor(!0)), t.addEventListener(\"pointerup\", ()=>this.toggleCursor(!1)), $1ebac55772351390$var$i(t, (t)=>this.onMove(t), ()=>this.toggleCursor(!0), ()=>{\n            this.toggleCursor(!1), this.drag && this.emit(\"update-end\");\n        }), this.contentEditable && this.content && (this.content.addEventListener(\"click\", (t)=>this.onContentClick(t)), this.content.addEventListener(\"blur\", ()=>this.onContentBlur())));\n    }\n    _onUpdate(t, e) {\n        if (!this.element.parentElement) return;\n        const { width: i } = this.element.parentElement.getBoundingClientRect(), n = t / i * this.totalDuration, s = e && \"start\" !== e ? this.start : this.start + n, o = e && \"end\" !== e ? this.end : this.end + n, r = o - s;\n        s >= 0 && o <= this.totalDuration && s <= o && r >= this.minLength && r <= this.maxLength && (this.start = s, this.end = o, this.renderPosition(), this.emit(\"update\"));\n    }\n    onMove(t) {\n        this.drag && this._onUpdate(t);\n    }\n    onResize(t, e) {\n        this.resize && this._onUpdate(t, e);\n    }\n    onEndResizing() {\n        this.resize && this.emit(\"update-end\");\n    }\n    onContentClick(t) {\n        t.stopPropagation();\n        t.target.focus(), this.emit(\"click\", t);\n    }\n    onContentBlur() {\n        this.emit(\"update-end\");\n    }\n    _setTotalDuration(t) {\n        this.totalDuration = t, this.renderPosition();\n    }\n    play() {\n        this.emit(\"play\");\n    }\n    setContent(t) {\n        var e;\n        if (null === (e = this.content) || void 0 === e || e.remove(), t) {\n            if (\"string\" == typeof t) {\n                const e = this.start === this.end;\n                this.content = $1ebac55772351390$var$s(\"div\", {\n                    style: {\n                        padding: `0.2em ${e ? .2 : .4}em`,\n                        display: \"inline-block\"\n                    },\n                    textContent: t\n                });\n            } else this.content = t;\n            this.contentEditable && (this.content.contentEditable = \"true\"), this.content.setAttribute(\"part\", \"region-content\"), this.element.appendChild(this.content);\n        } else this.content = void 0;\n    }\n    setOptions(t) {\n        var e, i;\n        if (t.color && (this.color = t.color, this.element.style.backgroundColor = this.color), void 0 !== t.drag && (this.drag = t.drag, this.element.style.cursor = this.drag ? \"grab\" : \"default\"), void 0 !== t.start || void 0 !== t.end) {\n            const n = this.start === this.end;\n            this.start = this.clampPosition(null !== (e = t.start) && void 0 !== e ? e : this.start), this.end = this.clampPosition(null !== (i = t.end) && void 0 !== i ? i : n ? this.start : this.end), this.renderPosition(), this.setPart();\n        }\n        if (t.content && this.setContent(t.content), t.id && (this.id = t.id, this.setPart()), void 0 !== t.resize && t.resize !== this.resize) {\n            const e = this.start === this.end;\n            this.resize = t.resize, this.resize && !e ? this.addResizeHandles(this.element) : this.removeResizeHandles(this.element);\n        }\n    }\n    remove() {\n        this.emit(\"remove\"), this.element.remove(), this.element = null;\n    }\n}\nclass $1ebac55772351390$export$2e2bcd8739ae039 extends $1ebac55772351390$var$e {\n    constructor(t){\n        super(t), this.regions = [], this.regionsContainer = this.initRegionsContainer();\n    }\n    static create(t) {\n        return new $1ebac55772351390$export$2e2bcd8739ae039(t);\n    }\n    onInit() {\n        if (!this.wavesurfer) throw Error(\"WaveSurfer is not initialized\");\n        this.wavesurfer.getWrapper().appendChild(this.regionsContainer);\n        let t = [];\n        this.subscriptions.push(this.wavesurfer.on(\"timeupdate\", (e)=>{\n            const i = this.regions.filter((t)=>t.start <= e && (t.end === t.start ? t.start + .05 : t.end) >= e);\n            i.forEach((e)=>{\n                t.includes(e) || this.emit(\"region-in\", e);\n            }), t.forEach((t)=>{\n                i.includes(t) || this.emit(\"region-out\", t);\n            }), t = i;\n        }));\n    }\n    initRegionsContainer() {\n        return $1ebac55772351390$var$s(\"div\", {\n            style: {\n                position: \"absolute\",\n                top: \"0\",\n                left: \"0\",\n                width: \"100%\",\n                height: \"100%\",\n                zIndex: \"3\",\n                pointerEvents: \"none\"\n            }\n        });\n    }\n    getRegions() {\n        return this.regions;\n    }\n    avoidOverlapping(t) {\n        if (!t.content) return;\n        const e = t.content, i = e.getBoundingClientRect(), n = this.regions.map((e)=>{\n            if (e === t || !e.content) return 0;\n            const n = e.content.getBoundingClientRect();\n            return i.left < n.left + n.width && n.left < i.left + i.width ? n.height : 0;\n        }).reduce((t, e)=>t + e, 0);\n        e.style.marginTop = `${n}px`;\n    }\n    adjustScroll(t) {\n        var e, i;\n        const n = null === (i = null === (e = this.wavesurfer) || void 0 === e ? void 0 : e.getWrapper()) || void 0 === i ? void 0 : i.parentElement;\n        if (!n) return;\n        const { clientWidth: s, scrollWidth: o } = n;\n        if (o <= s) return;\n        const r = n.getBoundingClientRect(), a = t.element.getBoundingClientRect(), l = a.left - r.left, h = a.right - r.left;\n        l < 0 ? n.scrollLeft += l : h > s && (n.scrollLeft += h - s);\n    }\n    saveRegion(t) {\n        this.regionsContainer.appendChild(t.element), this.avoidOverlapping(t), this.regions.push(t);\n        const e = [\n            t.on(\"update\", ()=>{\n                this.adjustScroll(t);\n            }),\n            t.on(\"update-end\", ()=>{\n                this.avoidOverlapping(t), this.emit(\"region-updated\", t);\n            }),\n            t.on(\"play\", ()=>{\n                var e, i;\n                null === (e = this.wavesurfer) || void 0 === e || e.play(), null === (i = this.wavesurfer) || void 0 === i || i.setTime(t.start);\n            }),\n            t.on(\"click\", (e)=>{\n                this.emit(\"region-clicked\", t, e);\n            }),\n            t.on(\"dblclick\", (e)=>{\n                this.emit(\"region-double-clicked\", t, e);\n            }),\n            t.once(\"remove\", ()=>{\n                e.forEach((t)=>t()), this.regions = this.regions.filter((e)=>e !== t), this.emit(\"region-removed\", t);\n            })\n        ];\n        this.subscriptions.push(...e), this.emit(\"region-created\", t);\n    }\n    addRegion(t) {\n        var e, i;\n        if (!this.wavesurfer) throw Error(\"WaveSurfer is not initialized\");\n        const n = this.wavesurfer.getDuration(), s = null === (i = null === (e = this.wavesurfer) || void 0 === e ? void 0 : e.getDecodedData()) || void 0 === i ? void 0 : i.numberOfChannels, r = new $1ebac55772351390$var$o(t, n, s);\n        return n ? this.saveRegion(r) : this.subscriptions.push(this.wavesurfer.once(\"ready\", (t)=>{\n            r._setTotalDuration(t), this.saveRegion(r);\n        })), r;\n    }\n    enableDragSelection(t, e = 3) {\n        var n;\n        const s = null === (n = this.wavesurfer) || void 0 === n ? void 0 : n.getWrapper();\n        if (!(s && s instanceof HTMLElement)) return ()=>{};\n        let r = null, a = 0;\n        return $1ebac55772351390$var$i(s, (t, e, i)=>{\n            r && r._onUpdate(t, i > a ? \"end\" : \"start\");\n        }, (e)=>{\n            var i, n;\n            if (a = e, !this.wavesurfer) return;\n            const s = this.wavesurfer.getDuration(), l = null === (n = null === (i = this.wavesurfer) || void 0 === i ? void 0 : i.getDecodedData()) || void 0 === n ? void 0 : n.numberOfChannels, { width: h } = this.wavesurfer.getWrapper().getBoundingClientRect(), d = e / h * s, c = (e + 5) / h * s;\n            r = new $1ebac55772351390$var$o(Object.assign(Object.assign({}, t), {\n                start: d,\n                end: c\n            }), s, l), this.regionsContainer.appendChild(r.element);\n        }, ()=>{\n            r && (this.saveRegion(r), r = null);\n        }, e);\n    }\n    clearRegions() {\n        this.regions.forEach((t)=>t.remove());\n    }\n    destroy() {\n        this.clearRegions(), super.destroy(), this.regionsContainer.remove();\n    }\n}\n\n\n// XXX: Hack to allow interaction and listen to region-out\nlet $35da740d59af89ba$var$disableRegionOut = false;\nlet $35da740d59af89ba$var$disableRegionOutPauseMillis = 0;\nconst $35da740d59af89ba$var$setDisableRegionOutTrue = ()=>{\n    $35da740d59af89ba$var$disableRegionOut = true;\n    setTimeout(()=>{\n        $35da740d59af89ba$var$disableRegionOut = false;\n        $35da740d59af89ba$var$disableRegionOutPauseMillis = 0;\n    }, 100 + $35da740d59af89ba$var$disableRegionOutPauseMillis);\n};\nlet $35da740d59af89ba$var$paused = false;\nconst $35da740d59af89ba$var$initWavesurfer = async (fileName, blob)=>{\n    try {\n        await $35da740d59af89ba$var$initWavesurferInternal(fileName, blob);\n        return true;\n    } catch (err) {\n        console.log(`Error loading file: ${err}`);\n    }\n    return false;\n};\nconst $35da740d59af89ba$var$initWavesurferInternal = async (fileName, blob)=>{\n    let activeRegion = null;\n    const ws = (0, $182ce0f141db4820$export$2e2bcd8739ae039).create({\n        container: \"#waveform\",\n        loop: true,\n        mediaControls: true\n    });\n    await ws.load(blob);\n    ws.on(\"interaction\", (e)=>{\n        activeRegion = null;\n        console.log(\"interaction\");\n        $35da740d59af89ba$var$paused = false;\n        $35da740d59af89ba$var$setDisableRegionOutTrue();\n    });\n    const wsRegions = ws.registerPlugin((0, $1ebac55772351390$export$2e2bcd8739ae039).create({\n        container: \"#waveform\",\n        loop: true\n    }));\n    wsRegions.enableDragSelection({\n        color: \"rgba(255, 0, 0, 0.1)\",\n        loop: true\n    });\n    wsRegions.on(\"region-clicked\", (region, e)=>{\n        e.stopPropagation();\n        const start = region.start / ws.getDuration();\n        region.loop = true;\n        $35da740d59af89ba$var$setDisableRegionOutTrue();\n        region.play();\n        $35da740d59af89ba$var$paused = false;\n    });\n    wsRegions.on(\"region-in\", async (region)=>{\n        activeRegion = region;\n        $(\".list-group-item\").removeClass(\"active\");\n        $(`#li-${region.id}`).addClass(\"active\");\n    });\n    wsRegions.on(\"region-out\", async (region)=>{\n        if ($35da740d59af89ba$var$disableRegionOut) {\n            $35da740d59af89ba$var$disableRegionOut = false;\n            return;\n        }\n        if ($35da740d59af89ba$var$paused) return;\n        $35da740d59af89ba$var$paused = true;\n        if (Math.abs(region.end - ws.getCurrentTime()) > 0.1) return;\n        $(`#li-${region.id}`).removeClass(\"active\");\n        const start = region.start / ws.getDuration();\n        ws.pause();\n        ws.seekTo(start);\n        region.loop = true;\n        let pause = 0;\n        try {\n            pause = parseInt($(\"#pause-secs\").val());\n        } catch (ignore) {}\n        const pauseMillis = pause * 1000;\n        $35da740d59af89ba$var$disableRegionOutPauseMillis = pauseMillis;\n        let timerInterval;\n        if (pause) {\n            let timeLeftMillis = pauseMillis;\n            console.log(\"pausing for \" + pause + \" seconds\");\n            $(\"#timer\").text(timeLeftMillis + \"ms\");\n            $(\"#timer\").css(\"width\", \"0%\");\n            $(\"#timer-wrapper\").show();\n            $35da740d59af89ba$var$paused = true;\n            timerInterval = setInterval(()=>{\n                if (!$35da740d59af89ba$var$paused) {\n                    console.log(\"interrupted\");\n                    // Let this be interruptable.\n                    // This fucking sucks.\n                    if (timerInterval) clearInterval(timerInterval);\n                    timerInterval = null;\n                    $(\"#timer-wrapper\").hide();\n                    return;\n                }\n                timeLeftMillis -= 100;\n                const perc = (pauseMillis - timeLeftMillis) / pauseMillis * 100;\n                $(\"#timer\").css(\"width\", perc + \"%\");\n                $(\"#timer\").text(timeLeftMillis + \"ms\");\n                if (timeLeftMillis <= 0) {\n                    $(\"#timer-wrapper\").hide();\n                    region.play();\n                    $35da740d59af89ba$var$paused = false;\n                    if (timerInterval) clearInterval(timerInterval);\n                }\n            }, 100);\n        } else {\n            region.play();\n            $35da740d59af89ba$var$paused = false;\n        }\n    });\n    const localStorageKey = `regions-${fileName}`;\n    const saveRegions = ()=>localStorage.setItem(localStorageKey, JSON.stringify(wsRegions.regions));\n    const clearRegions = ()=>{\n        localStorage.removeItem(localStorageKey);\n        $(\"#restore-btn\").hide();\n        $(\"#clear-btn\").hide();\n    };\n    const clearAllRegions = ()=>{\n        Object.keys(localStorage).filter((key)=>key.startsWith(\"regions-\")).forEach((key)=>localStorage.removeItem(key));\n        $(\"#restore-btn\").hide();\n        $(\"#clear-btn\").hide();\n        $(\"#clear-all-btn\").hide();\n    };\n    const restoreRegions = ()=>JSON.parse(localStorage.getItem(localStorageKey)).forEach((region)=>wsRegions.addRegion(region));\n    let regionNum = 1;\n    const addContent = (region, el)=>{\n        $(el).html(`<b>${region.content}</b> - ${region.start.toFixed(2)}s to ${region.end.toFixed(2)}s`);\n    };\n    wsRegions.on(\"region-update-end\", (region)=>{\n        region.loop = true;\n        saveRegions();\n        addContent(region, $(`#li-${region.id}`));\n    });\n    wsRegions.on(\"region-created\", (region)=>{\n        region.content = String(regionNum++);\n        saveRegions();\n        const el = $(\"<a>\").attr(\"href\", \"#\").addClass(\"list-group-item\").addClass(\"list-group-item-action\").attr(\"id\", `li-${region.id}`);\n        addContent(region, el);\n        $(\"#regions-list\").append(el);\n        el.click((e)=>{\n            e.preventDefault();\n            e.stopPropagation();\n            region.play();\n            $35da740d59af89ba$var$paused = false;\n        });\n    });\n    wsRegions.on(\"region-created\", saveRegions);\n    wsRegions.on(\"region-removed\", saveRegions);\n    if (localStorage.getItem(localStorageKey)) {\n        $(\"#restore-btn\").show();\n        $(\"#restore-btn\").click(restoreRegions);\n        $(\"#clear-btn\").show();\n        $(\"#clear-btn\").click(clearRegions);\n    } else {\n        $(\"#restore-btn\").hide();\n        $(\"#clear-btn\").hide();\n    }\n    const hasAnySavdRegions = Object.keys(localStorage).some((key)=>key.startsWith(\"regions-\"));\n    if (hasAnySavdRegions) {\n        $(\"#clear-all-btn\").show();\n        $(\"#clear-all-btn\").click(clearAllRegions);\n    } else $(\"#clear-all-btn\").hide();\n};\nconst $35da740d59af89ba$var$main = async ()=>{\n    const params = new URLSearchParams(document.location.search);\n    const file = params.get(\"load\");\n    if (file) {\n        if (await $35da740d59af89ba$var$initWavesurfer(file, file)) {\n            $(\".before-play\").hide();\n            $(\".playing\").show();\n            return;\n        }\n        $(\"#waveform\").empty();\n        alert(`problem auto loading ${file}`);\n        return;\n    }\n    $(\".before-play\").show();\n    $(\"#upload\").change(()=>{\n        const file = document.getElementById(\"upload\").files[0];\n        const fileReader = new FileReader();\n        fileReader.readAsDataURL(file);\n        fileReader.onload = async (e)=>{\n            const blob = fileReader.result;\n            if (await $35da740d59af89ba$var$initWavesurfer(file.name, blob)) {\n                $(\".before-play\").hide();\n                $(\".playing\").show();\n                return;\n            }\n            $(\"#waveform\").empty();\n            alert(`problem loading ${file}`);\n        };\n    });\n};\n$35da740d59af89ba$var$main();\n\n\n//# sourceMappingURL=index.78760a97.js.map\n","/*\nimport WaveSurfer from \"https://unpkg.com/wavesurfer.js@7/dist/wavesurfer.esm.js\";\nimport RegionsPlugin from \"https://unpkg.com/wavesurfer.js@7/dist/plugins/regions.esm.js\";\n*/\n\nimport WaveSurfer from \"wavesurfer.js\";\nimport RegionsPlugin from \"wavesurfer.js/dist/plugins/regions.esm.js\";\n\n// XXX: Hack to allow interaction and listen to region-out\nlet disableRegionOut = false;\nlet disableRegionOutPauseMillis = 0;\nconst setDisableRegionOutTrue = () => {\n  disableRegionOut = true;\n  setTimeout(() => {\n    disableRegionOut = false;\n    disableRegionOutPauseMillis = 0;\n  }, 100 + disableRegionOutPauseMillis);\n};\nlet paused = false;\n\nconst initWavesurfer = async (fileName, blob) => {\n  try {\n    await initWavesurferInternal(fileName, blob);\n    return true;\n  } catch (err) {\n    console.log(`Error loading file: ${err}`);\n  }\n  return false;\n};\n\nconst initWavesurferInternal = async (fileName, blob) => {\n\n  let activeRegion = null;\n\n  const ws = WaveSurfer.create({\n    container: \"#waveform\",\n    loop: true,\n    mediaControls: true,\n  });\n\n  await ws.load(blob);\n\n  ws.on(\"interaction\", (e) => {\n    activeRegion = null;\n    console.log(\"interaction\");\n    paused = false;\n    setDisableRegionOutTrue();\n  });\n\n  const wsRegions = ws.registerPlugin(RegionsPlugin.create({\n    container: \"#waveform\",\n    loop: true,\n  }));\n\n  wsRegions.enableDragSelection({\n    color: \"rgba(255, 0, 0, 0.1)\",\n    loop: true,\n  });\n\n  wsRegions.on(\"region-clicked\", (region, e) => {\n    e.stopPropagation();\n    const start = region.start / ws.getDuration();\n    region.loop = true;\n    setDisableRegionOutTrue();\n    region.play();\n    paused = false;\n  });\n\n  wsRegions.on(\"region-in\", async (region) => {\n    activeRegion = region;\n    $(\".list-group-item\").removeClass(\"active\");\n    $(`#li-${region.id}`).addClass(\"active\");\n  });\n\n  wsRegions.on(\"region-out\", async (region) => {\n    if (disableRegionOut) {\n      disableRegionOut = false;\n      return;\n    }\n\n    if (paused) return;\n    paused = true;\n\n    if (Math.abs(region.end - ws.getCurrentTime()) > 0.1) return;\n\n    $(`#li-${region.id}`).removeClass(\"active\");\n\n    const start = region.start / ws.getDuration();\n    ws.pause();\n    ws.seekTo(start);\n    region.loop = true;\n\n    let pause = 0;\n    try {\n      pause = parseInt($(\"#pause-secs\").val());\n    } catch (ignore) { }\n    const pauseMillis = pause * 1000;\n    disableRegionOutPauseMillis = pauseMillis;\n    let timerInterval;\n    if (pause) {\n      let timeLeftMillis = pauseMillis;\n      console.log(\"pausing for \" + pause + \" seconds\");\n      $(\"#timer\").text(timeLeftMillis + \"ms\");\n      $(\"#timer\").css(\"width\", \"0%\");\n      $(\"#timer-wrapper\").show();\n      paused = true;\n      timerInterval = setInterval(() => {\n        if (!paused) {\n          console.log(\"interrupted\");\n          // Let this be interruptable.\n          // This fucking sucks.\n          if (timerInterval) clearInterval(timerInterval);\n          timerInterval = null;\n          $(\"#timer-wrapper\").hide();\n          return;\n        }\n        timeLeftMillis -= 100;\n        const perc = (pauseMillis - timeLeftMillis) / pauseMillis * 100;\n        $(\"#timer\").css(\"width\", perc + \"%\");\n        $(\"#timer\").text(timeLeftMillis + \"ms\");\n        if (timeLeftMillis <= 0) {\n          $(\"#timer-wrapper\").hide();\n          region.play();\n          paused = false;\n          if (timerInterval) clearInterval(timerInterval);\n        }\n      }, 100);\n    } else {\n      region.play();\n      paused = false;\n    }\n  });\n\n  const localStorageKey = `regions-${fileName}`;\n\n  const saveRegions = () =>\n    localStorage.setItem(localStorageKey, JSON.stringify(wsRegions.regions));\n\n  const clearRegions = () => {\n    localStorage.removeItem(localStorageKey);\n    $(\"#restore-btn\").hide();\n    $(\"#clear-btn\").hide();\n  };\n\n  const clearAllRegions = () => {\n    Object.keys(localStorage).filter((key) => key.startsWith(\"regions-\")).forEach(key => localStorage.removeItem(key));\n    $(\"#restore-btn\").hide();\n    $(\"#clear-btn\").hide();\n    $(\"#clear-all-btn\").hide();\n  };\n\n  const restoreRegions = () =>\n    JSON.parse(localStorage.getItem(localStorageKey)).forEach((region) => wsRegions.addRegion(region));\n\n  let regionNum = 1;\n\n  const addContent = (region, el) => {\n    $(el).html(`<b>${region.content}</b> - ${region.start.toFixed(2)}s to ${region.end.toFixed(2)}s`);\n\n  };\n\n  wsRegions.on(\"region-update-end\", (region) => {\n    region.loop = true;\n    saveRegions();\n    addContent(region, $(`#li-${region.id}`));\n  });\n\n  wsRegions.on(\"region-created\", (region) => {\n    region.content = String(regionNum++);\n    saveRegions();\n    const el = $(\"<a>\")\n      .attr(\"href\", \"#\")\n      .addClass(\"list-group-item\")\n      .addClass(\"list-group-item-action\")\n      .attr(\"id\", `li-${region.id}`);\n    addContent(region, el);\n    $(\"#regions-list\").append(el);\n    el.click((e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      region.play();\n      paused = false;\n    });\n  });\n\n  wsRegions.on(\"region-created\", saveRegions);\n  wsRegions.on(\"region-removed\", saveRegions);\n\n  if (localStorage.getItem(localStorageKey)) {\n    $(\"#restore-btn\").show();\n    $(\"#restore-btn\").click(restoreRegions);\n    $(\"#clear-btn\").show();\n    $(\"#clear-btn\").click(clearRegions);\n  } else {\n    $(\"#restore-btn\").hide();\n    $(\"#clear-btn\").hide();\n  }\n\n  const hasAnySavdRegions = Object.keys(localStorage).some((key) => key.startsWith(\"regions-\"));\n  if (hasAnySavdRegions) {\n    $(\"#clear-all-btn\").show();\n    $(\"#clear-all-btn\").click(clearAllRegions);\n  } else {\n    $(\"#clear-all-btn\").hide();\n  }\n};\n\nconst main = async () => {\n  const params = new URLSearchParams(document.location.search);\n  const file = params.get(\"load\");\n  if (file) {\n    if (await initWavesurfer(file, file)) {\n      $(\".before-play\").hide();\n      $(\".playing\").show();\n      return;\n    }\n    $(\"#waveform\").empty();\n    alert(`problem auto loading ${file}`);\n    return;\n  }\n\n  $(\".before-play\").show();\n  $(\"#upload\").change(() => {\n    const file = document.getElementById(\"upload\").files[0];\n    const fileReader = new FileReader();\n    fileReader.readAsDataURL(file);\n    fileReader.onload = async (e) => {\n      const blob = fileReader.result;\n      if (await initWavesurfer(file.name, blob)) {\n        $(\".before-play\").hide();\n        $(\".playing\").show();\n        return;\n      }\n      $(\"#waveform\").empty();\n      alert(`problem loading ${file}`);\n    };\n  });\n};\n\nmain();","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Decoder from './decoder.js';\nimport Fetcher from './fetcher.js';\nimport Player from './player.js';\nimport Renderer from './renderer.js';\nimport Timer from './timer.js';\nimport WebAudioPlayer from './webaudio.js';\nconst defaultOptions = {\n    waveColor: '#999',\n    progressColor: '#555',\n    cursorWidth: 1,\n    minPxPerSec: 0,\n    fillParent: true,\n    interact: true,\n    dragToSeek: false,\n    autoScroll: true,\n    autoCenter: true,\n    sampleRate: 8000,\n};\nclass WaveSurfer extends Player {\n    /** Create a new WaveSurfer instance */\n    static create(options) {\n        return new WaveSurfer(options);\n    }\n    /** Create a new WaveSurfer instance */\n    constructor(options) {\n        const media = options.media ||\n            (options.backend === 'WebAudio' ? new WebAudioPlayer() : undefined);\n        super({\n            media,\n            mediaControls: options.mediaControls,\n            autoplay: options.autoplay,\n            playbackRate: options.audioRate,\n        });\n        this.plugins = [];\n        this.decodedData = null;\n        this.subscriptions = [];\n        this.mediaSubscriptions = [];\n        this.options = Object.assign({}, defaultOptions, options);\n        this.timer = new Timer();\n        const audioElement = media ? undefined : this.getMediaElement();\n        this.renderer = new Renderer(this.options, audioElement);\n        this.initPlayerEvents();\n        this.initRendererEvents();\n        this.initTimerEvents();\n        this.initPlugins();\n        // Init and load async to allow external events to be registered\n        Promise.resolve().then(() => {\n            this.emit('init');\n            // Load audio if URL or an external media with an src is passed,\n            // of render w/o audio if pre-decoded peaks and duration are provided\n            const url = this.options.url || this.getSrc() || '';\n            if (url || (this.options.peaks && this.options.duration)) {\n                this.load(url, this.options.peaks, this.options.duration);\n            }\n        });\n    }\n    initTimerEvents() {\n        // The timer fires every 16ms for a smooth progress animation\n        this.subscriptions.push(this.timer.on('tick', () => {\n            const currentTime = this.getCurrentTime();\n            this.renderer.renderProgress(currentTime / this.getDuration(), true);\n            this.emit('timeupdate', currentTime);\n            this.emit('audioprocess', currentTime);\n        }));\n    }\n    initPlayerEvents() {\n        if (this.isPlaying()) {\n            this.emit('play');\n            this.timer.start();\n        }\n        this.mediaSubscriptions.push(this.onMediaEvent('timeupdate', () => {\n            const currentTime = this.getCurrentTime();\n            this.renderer.renderProgress(currentTime / this.getDuration(), this.isPlaying());\n            this.emit('timeupdate', currentTime);\n        }), this.onMediaEvent('play', () => {\n            this.emit('play');\n            this.timer.start();\n        }), this.onMediaEvent('pause', () => {\n            this.emit('pause');\n            this.timer.stop();\n        }), this.onMediaEvent('emptied', () => {\n            this.timer.stop();\n        }), this.onMediaEvent('ended', () => {\n            this.emit('finish');\n        }), this.onMediaEvent('seeking', () => {\n            this.emit('seeking', this.getCurrentTime());\n        }));\n    }\n    initRendererEvents() {\n        this.subscriptions.push(\n        // Seek on click\n        this.renderer.on('click', (relativeX, relativeY) => {\n            if (this.options.interact) {\n                this.seekTo(relativeX);\n                this.emit('interaction', relativeX * this.getDuration());\n                this.emit('click', relativeX, relativeY);\n            }\n        }), \n        // Double click\n        this.renderer.on('dblclick', (relativeX, relativeY) => {\n            this.emit('dblclick', relativeX, relativeY);\n        }), \n        // Scroll\n        this.renderer.on('scroll', (startX, endX) => {\n            const duration = this.getDuration();\n            this.emit('scroll', startX * duration, endX * duration);\n        }), \n        // Redraw\n        this.renderer.on('render', () => {\n            this.emit('redraw');\n        }), \n        // RedrawComplete\n        this.renderer.on('rendered', () => {\n            this.emit('redrawcomplete');\n        }));\n        // Drag\n        {\n            let debounce;\n            this.subscriptions.push(this.renderer.on('drag', (relativeX) => {\n                if (!this.options.interact)\n                    return;\n                // Update the visual position\n                this.renderer.renderProgress(relativeX);\n                // Set the audio position with a debounce\n                clearTimeout(debounce);\n                debounce = setTimeout(() => {\n                    this.seekTo(relativeX);\n                }, this.isPlaying() ? 0 : 200);\n                this.emit('interaction', relativeX * this.getDuration());\n                this.emit('drag', relativeX);\n            }));\n        }\n    }\n    initPlugins() {\n        var _a;\n        if (!((_a = this.options.plugins) === null || _a === void 0 ? void 0 : _a.length))\n            return;\n        this.options.plugins.forEach((plugin) => {\n            this.registerPlugin(plugin);\n        });\n    }\n    unsubscribePlayerEvents() {\n        this.mediaSubscriptions.forEach((unsubscribe) => unsubscribe());\n        this.mediaSubscriptions = [];\n    }\n    /** Set new wavesurfer options and re-render it */\n    setOptions(options) {\n        this.options = Object.assign({}, this.options, options);\n        this.renderer.setOptions(this.options);\n        if (options.audioRate) {\n            this.setPlaybackRate(options.audioRate);\n        }\n        if (options.mediaControls != null) {\n            this.getMediaElement().controls = options.mediaControls;\n        }\n    }\n    /** Register a wavesurfer.js plugin */\n    registerPlugin(plugin) {\n        plugin._init(this);\n        this.plugins.push(plugin);\n        // Unregister plugin on destroy\n        this.subscriptions.push(plugin.once('destroy', () => {\n            this.plugins = this.plugins.filter((p) => p !== plugin);\n        }));\n        return plugin;\n    }\n    /** For plugins only: get the waveform wrapper div */\n    getWrapper() {\n        return this.renderer.getWrapper();\n    }\n    /** Get the current scroll position in pixels */\n    getScroll() {\n        return this.renderer.getScroll();\n    }\n    /** Get all registered plugins */\n    getActivePlugins() {\n        return this.plugins;\n    }\n    loadAudio(url, blob, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.emit('load', url);\n            if (!this.options.media && this.isPlaying())\n                this.pause();\n            this.decodedData = null;\n            // Fetch the entire audio as a blob if pre-decoded data is not provided\n            if (!blob && !channelData) {\n                const onProgress = (percentage) => this.emit('loading', percentage);\n                blob = yield Fetcher.fetchBlob(url, onProgress, this.options.fetchParams);\n            }\n            // Set the mediaelement source\n            this.setSrc(url, blob);\n            // Wait for the audio duration\n            const audioDuration = duration ||\n                this.getDuration() ||\n                (yield new Promise((resolve) => {\n                    this.onceMediaEvent('loadedmetadata', () => resolve(this.getDuration()));\n                }));\n            // Decode the audio data or use user-provided peaks\n            if (channelData) {\n                this.decodedData = Decoder.createBuffer(channelData, audioDuration || 0);\n            }\n            else if (blob) {\n                const arrayBuffer = yield blob.arrayBuffer();\n                this.decodedData = yield Decoder.decode(arrayBuffer, this.options.sampleRate);\n            }\n            if (this.decodedData) {\n                this.emit('decode', this.getDuration());\n                this.renderer.render(this.decodedData);\n            }\n            this.emit('ready', this.getDuration());\n        });\n    }\n    /** Load an audio file by URL, with optional pre-decoded audio data */\n    load(url, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.loadAudio(url, undefined, channelData, duration);\n        });\n    }\n    /** Load an audio blob */\n    loadBlob(blob, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.loadAudio('blob', blob, channelData, duration);\n        });\n    }\n    /** Zoom the waveform by a given pixels-per-second factor */\n    zoom(minPxPerSec) {\n        if (!this.decodedData) {\n            throw new Error('No audio loaded');\n        }\n        this.renderer.zoom(minPxPerSec);\n        this.emit('zoom', minPxPerSec);\n    }\n    /** Get the decoded audio data */\n    getDecodedData() {\n        return this.decodedData;\n    }\n    /** Get decoded peaks */\n    exportPeaks({ channels = 2, maxLength = 8000, precision = 10000 } = {}) {\n        if (!this.decodedData) {\n            throw new Error('The audio has not been decoded yet');\n        }\n        const maxChannels = Math.min(channels, this.decodedData.numberOfChannels);\n        const peaks = [];\n        for (let i = 0; i < maxChannels; i++) {\n            const channel = this.decodedData.getChannelData(i);\n            const data = [];\n            const sampleSize = Math.round(channel.length / maxLength);\n            for (let i = 0; i < maxLength; i++) {\n                const sample = channel.slice(i * sampleSize, (i + 1) * sampleSize);\n                let max = 0;\n                for (let x = 0; x < sample.length; x++) {\n                    const n = sample[x];\n                    if (Math.abs(n) > Math.abs(max))\n                        max = n;\n                }\n                data.push(Math.round(max * precision) / precision);\n            }\n            peaks.push(data);\n        }\n        return peaks;\n    }\n    /** Get the duration of the audio in seconds */\n    getDuration() {\n        let duration = super.getDuration() || 0;\n        // Fall back to the decoded data duration if the media duration is incorrect\n        if ((duration === 0 || duration === Infinity) && this.decodedData) {\n            duration = this.decodedData.duration;\n        }\n        return duration;\n    }\n    /** Toggle if the waveform should react to clicks */\n    toggleInteraction(isInteractive) {\n        this.options.interact = isInteractive;\n    }\n    /** Seek to a percentage of audio as [0..1] (0 = beginning, 1 = end) */\n    seekTo(progress) {\n        const time = this.getDuration() * progress;\n        this.setTime(time);\n    }\n    /** Play or pause the audio */\n    playPause() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.isPlaying() ? this.pause() : this.play();\n        });\n    }\n    /** Stop the audio and go to the beginning */\n    stop() {\n        this.pause();\n        this.setTime(0);\n    }\n    /** Skip N or -N seconds from the current position */\n    skip(seconds) {\n        this.setTime(this.getCurrentTime() + seconds);\n    }\n    /** Empty the waveform */\n    empty() {\n        this.load('', [[0]], 0.001);\n    }\n    /** Set HTML media element */\n    setMediaElement(element) {\n        this.unsubscribePlayerEvents();\n        super.setMediaElement(element);\n        this.initPlayerEvents();\n    }\n    exportImage(format = 'image/png', quality = 1, type = 'dataURL') {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.renderer.exportImage(format, quality, type);\n        });\n    }\n    /** Unmount wavesurfer */\n    destroy() {\n        this.emit('destroy');\n        this.plugins.forEach((plugin) => plugin.destroy());\n        this.subscriptions.forEach((unsubscribe) => unsubscribe());\n        this.unsubscribePlayerEvents();\n        this.timer.destroy();\n        this.renderer.destroy();\n        super.destroy();\n    }\n}\nexport default WaveSurfer;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/** Decode an array buffer into an audio buffer */\nfunction decode(audioData, sampleRate) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const audioCtx = new AudioContext({ sampleRate });\n        const decode = audioCtx.decodeAudioData(audioData);\n        return decode.finally(() => audioCtx.close());\n    });\n}\n/** Normalize peaks to -1..1 */\nfunction normalize(channelData) {\n    const firstChannel = channelData[0];\n    if (firstChannel.some((n) => n > 1 || n < -1)) {\n        const length = firstChannel.length;\n        let max = 0;\n        for (let i = 0; i < length; i++) {\n            const absN = Math.abs(firstChannel[i]);\n            if (absN > max)\n                max = absN;\n        }\n        for (const channel of channelData) {\n            for (let i = 0; i < length; i++) {\n                channel[i] /= max;\n            }\n        }\n    }\n    return channelData;\n}\n/** Create an audio buffer from pre-decoded audio data */\nfunction createBuffer(channelData, duration) {\n    // If a single array of numbers is passed, make it an array of arrays\n    if (typeof channelData[0] === 'number')\n        channelData = [channelData];\n    // Normalize to -1..1\n    normalize(channelData);\n    return {\n        duration,\n        length: channelData[0].length,\n        sampleRate: channelData[0].length / duration,\n        numberOfChannels: channelData.length,\n        getChannelData: (i) => channelData === null || channelData === void 0 ? void 0 : channelData[i],\n        copyFromChannel: AudioBuffer.prototype.copyFromChannel,\n        copyToChannel: AudioBuffer.prototype.copyToChannel,\n    };\n}\nconst Decoder = {\n    decode,\n    createBuffer,\n};\nexport default Decoder;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction watchProgress(response, progressCallback) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!response.body || !response.headers)\n            return;\n        const reader = response.body.getReader();\n        const contentLength = Number(response.headers.get('Content-Length')) || 0;\n        let receivedLength = 0;\n        // Process the data\n        const processChunk = (value) => __awaiter(this, void 0, void 0, function* () {\n            // Add to the received length\n            receivedLength += (value === null || value === void 0 ? void 0 : value.length) || 0;\n            const percentage = Math.round((receivedLength / contentLength) * 100);\n            progressCallback(percentage);\n        });\n        const read = () => __awaiter(this, void 0, void 0, function* () {\n            let data;\n            try {\n                data = yield reader.read();\n            }\n            catch (_a) {\n                // Ignore errors because we can only handle the main response\n                return;\n            }\n            // Continue reading data until done\n            if (!data.done) {\n                processChunk(data.value);\n                yield read();\n            }\n        });\n        read();\n    });\n}\nfunction fetchBlob(url, progressCallback, requestInit) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Fetch the resource\n        const response = yield fetch(url, requestInit);\n        if (response.status >= 400) {\n            throw new Error(`Failed to fetch ${url}: ${response.status} (${response.statusText})`);\n        }\n        // Read the data to track progress\n        watchProgress(response.clone(), progressCallback);\n        return response.blob();\n    });\n}\nconst Fetcher = {\n    fetchBlob,\n};\nexport default Fetcher;\n","import EventEmitter from './event-emitter.js';\nclass Player extends EventEmitter {\n    constructor(options) {\n        super();\n        this.isExternalMedia = false;\n        if (options.media) {\n            this.media = options.media;\n            this.isExternalMedia = true;\n        }\n        else {\n            this.media = document.createElement('audio');\n        }\n        // Controls\n        if (options.mediaControls) {\n            this.media.controls = true;\n        }\n        // Autoplay\n        if (options.autoplay) {\n            this.media.autoplay = true;\n        }\n        // Speed\n        if (options.playbackRate != null) {\n            this.onceMediaEvent('canplay', () => {\n                if (options.playbackRate != null) {\n                    this.media.playbackRate = options.playbackRate;\n                }\n            });\n        }\n    }\n    onMediaEvent(event, callback, options) {\n        this.media.addEventListener(event, callback, options);\n        return () => this.media.removeEventListener(event, callback);\n    }\n    onceMediaEvent(event, callback) {\n        return this.onMediaEvent(event, callback, { once: true });\n    }\n    getSrc() {\n        return this.media.currentSrc || this.media.src || '';\n    }\n    revokeSrc() {\n        const src = this.getSrc();\n        if (src.startsWith('blob:')) {\n            URL.revokeObjectURL(src);\n        }\n    }\n    canPlayType(type) {\n        return this.media.canPlayType(type) !== '';\n    }\n    setSrc(url, blob) {\n        const src = this.getSrc();\n        if (src === url)\n            return;\n        this.revokeSrc();\n        const newSrc = blob instanceof Blob && this.canPlayType(blob.type) ? URL.createObjectURL(blob) : url;\n        this.media.src = newSrc;\n    }\n    destroy() {\n        this.media.pause();\n        if (this.isExternalMedia)\n            return;\n        this.media.remove();\n        this.revokeSrc();\n        this.media.src = '';\n        // Load resets the media element to its initial state\n        this.media.load();\n    }\n    setMediaElement(element) {\n        this.media = element;\n    }\n    /** Start playing the audio */\n    play() {\n        return this.media.play();\n    }\n    /** Pause the audio */\n    pause() {\n        this.media.pause();\n    }\n    /** Check if the audio is playing */\n    isPlaying() {\n        return !this.media.paused && !this.media.ended;\n    }\n    /** Jumpt to a specific time in the audio (in seconds) */\n    setTime(time) {\n        this.media.currentTime = time;\n    }\n    /** Get the duration of the audio in seconds */\n    getDuration() {\n        return this.media.duration;\n    }\n    /** Get the current audio position in seconds */\n    getCurrentTime() {\n        return this.media.currentTime;\n    }\n    /** Get the audio volume */\n    getVolume() {\n        return this.media.volume;\n    }\n    /** Set the audio volume */\n    setVolume(volume) {\n        this.media.volume = volume;\n    }\n    /** Get the audio muted state */\n    getMuted() {\n        return this.media.muted;\n    }\n    /** Mute or unmute the audio */\n    setMuted(muted) {\n        this.media.muted = muted;\n    }\n    /** Get the playback speed */\n    getPlaybackRate() {\n        return this.media.playbackRate;\n    }\n    /** Set the playback speed, pass an optional false to NOT preserve the pitch */\n    setPlaybackRate(rate, preservePitch) {\n        // preservePitch is true by default in most browsers\n        if (preservePitch != null) {\n            this.media.preservesPitch = preservePitch;\n        }\n        this.media.playbackRate = rate;\n    }\n    /** Get the HTML media element */\n    getMediaElement() {\n        return this.media;\n    }\n    /** Set a sink id to change the audio output device */\n    setSinkId(sinkId) {\n        // See https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId\n        const media = this.media;\n        return media.setSinkId(sinkId);\n    }\n}\nexport default Player;\n","/** A simple event emitter that can be used to listen to and emit events. */\nclass EventEmitter {\n    constructor() {\n        this.listeners = {};\n    }\n    /** Subscribe to an event. Returns an unsubscribe function. */\n    on(event, listener, options) {\n        if (!this.listeners[event]) {\n            this.listeners[event] = new Set();\n        }\n        this.listeners[event].add(listener);\n        if (options === null || options === void 0 ? void 0 : options.once) {\n            const unsubscribeOnce = () => {\n                this.un(event, unsubscribeOnce);\n                this.un(event, listener);\n            };\n            this.on(event, unsubscribeOnce);\n            return unsubscribeOnce;\n        }\n        return () => this.un(event, listener);\n    }\n    /** Unsubscribe from an event */\n    un(event, listener) {\n        var _a;\n        (_a = this.listeners[event]) === null || _a === void 0 ? void 0 : _a.delete(listener);\n    }\n    /** Subscribe to an event only once */\n    once(event, listener) {\n        return this.on(event, listener, { once: true });\n    }\n    /** Clear all events */\n    unAll() {\n        this.listeners = {};\n    }\n    /** Emit an event */\n    emit(eventName, ...args) {\n        if (this.listeners[eventName]) {\n            this.listeners[eventName].forEach((listener) => listener(...args));\n        }\n    }\n}\nexport default EventEmitter;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { makeDraggable } from './draggable.js';\nimport EventEmitter from './event-emitter.js';\nclass Renderer extends EventEmitter {\n    constructor(options, audioElement) {\n        super();\n        this.timeouts = [];\n        this.isScrollable = false;\n        this.audioData = null;\n        this.resizeObserver = null;\n        this.lastContainerWidth = 0;\n        this.isDragging = false;\n        this.options = options;\n        const parent = this.parentFromOptionsContainer(options.container);\n        this.parent = parent;\n        const [div, shadow] = this.initHtml();\n        parent.appendChild(div);\n        this.container = div;\n        this.scrollContainer = shadow.querySelector('.scroll');\n        this.wrapper = shadow.querySelector('.wrapper');\n        this.canvasWrapper = shadow.querySelector('.canvases');\n        this.progressWrapper = shadow.querySelector('.progress');\n        this.cursor = shadow.querySelector('.cursor');\n        if (audioElement) {\n            shadow.appendChild(audioElement);\n        }\n        this.initEvents();\n    }\n    parentFromOptionsContainer(container) {\n        let parent;\n        if (typeof container === 'string') {\n            parent = document.querySelector(container);\n        }\n        else if (container instanceof HTMLElement) {\n            parent = container;\n        }\n        if (!parent) {\n            throw new Error('Container not found');\n        }\n        return parent;\n    }\n    initEvents() {\n        const getClickPosition = (e) => {\n            const rect = this.wrapper.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientX - rect.left;\n            const relativeX = x / rect.width;\n            const relativeY = y / rect.height;\n            return [relativeX, relativeY];\n        };\n        // Add a click listener\n        this.wrapper.addEventListener('click', (e) => {\n            const [x, y] = getClickPosition(e);\n            this.emit('click', x, y);\n        });\n        // Add a double click listener\n        this.wrapper.addEventListener('dblclick', (e) => {\n            const [x, y] = getClickPosition(e);\n            this.emit('dblclick', x, y);\n        });\n        // Drag\n        if (this.options.dragToSeek) {\n            this.initDrag();\n        }\n        // Add a scroll listener\n        this.scrollContainer.addEventListener('scroll', () => {\n            const { scrollLeft, scrollWidth, clientWidth } = this.scrollContainer;\n            const startX = scrollLeft / scrollWidth;\n            const endX = (scrollLeft + clientWidth) / scrollWidth;\n            this.emit('scroll', startX, endX);\n        });\n        // Re-render the waveform on container resize\n        const delay = this.createDelay(100);\n        this.resizeObserver = new ResizeObserver(() => {\n            delay(() => this.onContainerResize());\n        });\n        this.resizeObserver.observe(this.scrollContainer);\n    }\n    onContainerResize() {\n        const width = this.parent.clientWidth;\n        if (width === this.lastContainerWidth && this.options.height !== 'auto')\n            return;\n        this.lastContainerWidth = width;\n        this.reRender();\n    }\n    initDrag() {\n        makeDraggable(this.wrapper, \n        // On drag\n        (_, __, x) => {\n            this.emit('drag', Math.max(0, Math.min(1, x / this.wrapper.getBoundingClientRect().width)));\n        }, \n        // On start drag\n        () => (this.isDragging = true), \n        // On end drag\n        () => (this.isDragging = false));\n    }\n    getHeight(optionsHeight) {\n        const defaultHeight = 128;\n        if (optionsHeight == null)\n            return defaultHeight;\n        if (!isNaN(Number(optionsHeight)))\n            return Number(optionsHeight);\n        if (optionsHeight === 'auto')\n            return this.parent.clientHeight || defaultHeight;\n        return defaultHeight;\n    }\n    initHtml() {\n        const div = document.createElement('div');\n        const shadow = div.attachShadow({ mode: 'open' });\n        shadow.innerHTML = `\n      <style>\n        :host {\n          user-select: none;\n          min-width: 1px;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight(this.options.height)}px;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class=\"scroll\" part=\"scroll\">\n        <div class=\"wrapper\" part=\"wrapper\">\n          <div class=\"canvases\"></div>\n          <div class=\"progress\" part=\"progress\"></div>\n          <div class=\"cursor\" part=\"cursor\"></div>\n        </div>\n      </div>\n    `;\n        return [div, shadow];\n    }\n    /** Wavesurfer itself calls this method. Do not call it manually. */\n    setOptions(options) {\n        if (this.options.container !== options.container) {\n            const newParent = this.parentFromOptionsContainer(options.container);\n            newParent.appendChild(this.container);\n            this.parent = newParent;\n        }\n        if (options.dragToSeek && !this.options.dragToSeek) {\n            this.initDrag();\n        }\n        this.options = options;\n        // Re-render the waveform\n        this.reRender();\n    }\n    getWrapper() {\n        return this.wrapper;\n    }\n    getScroll() {\n        return this.scrollContainer.scrollLeft;\n    }\n    destroy() {\n        var _a;\n        this.container.remove();\n        (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    }\n    createDelay(delayMs = 10) {\n        const context = {};\n        this.timeouts.push(context);\n        return (callback) => {\n            context.timeout && clearTimeout(context.timeout);\n            context.timeout = setTimeout(callback, delayMs);\n        };\n    }\n    // Convert array of color values to linear gradient\n    convertColorValues(color) {\n        if (!Array.isArray(color))\n            return color || '';\n        if (color.length < 2)\n            return color[0] || '';\n        const canvasElement = document.createElement('canvas');\n        const ctx = canvasElement.getContext('2d');\n        const gradientHeight = canvasElement.height * (window.devicePixelRatio || 1);\n        const gradient = ctx.createLinearGradient(0, 0, 0, gradientHeight);\n        const colorStopPercentage = 1 / (color.length - 1);\n        color.forEach((color, index) => {\n            const offset = index * colorStopPercentage;\n            gradient.addColorStop(offset, color);\n        });\n        return gradient;\n    }\n    renderBarWaveform(channelData, options, ctx, vScale) {\n        const topChannel = channelData[0];\n        const bottomChannel = channelData[1] || channelData[0];\n        const length = topChannel.length;\n        const { width, height } = ctx.canvas;\n        const halfHeight = height / 2;\n        const pixelRatio = window.devicePixelRatio || 1;\n        const barWidth = options.barWidth ? options.barWidth * pixelRatio : 1;\n        const barGap = options.barGap ? options.barGap * pixelRatio : options.barWidth ? barWidth / 2 : 0;\n        const barRadius = options.barRadius || 0;\n        const barIndexScale = width / (barWidth + barGap) / length;\n        const rectFn = barRadius && 'roundRect' in ctx ? 'roundRect' : 'rect';\n        ctx.beginPath();\n        let prevX = 0;\n        let maxTop = 0;\n        let maxBottom = 0;\n        for (let i = 0; i <= length; i++) {\n            const x = Math.round(i * barIndexScale);\n            if (x > prevX) {\n                const topBarHeight = Math.round(maxTop * halfHeight * vScale);\n                const bottomBarHeight = Math.round(maxBottom * halfHeight * vScale);\n                const barHeight = topBarHeight + bottomBarHeight || 1;\n                // Vertical alignment\n                let y = halfHeight - topBarHeight;\n                if (options.barAlign === 'top') {\n                    y = 0;\n                }\n                else if (options.barAlign === 'bottom') {\n                    y = height - barHeight;\n                }\n                ctx[rectFn](prevX * (barWidth + barGap), y, barWidth, barHeight, barRadius);\n                prevX = x;\n                maxTop = 0;\n                maxBottom = 0;\n            }\n            const magnitudeTop = Math.abs(topChannel[i] || 0);\n            const magnitudeBottom = Math.abs(bottomChannel[i] || 0);\n            if (magnitudeTop > maxTop)\n                maxTop = magnitudeTop;\n            if (magnitudeBottom > maxBottom)\n                maxBottom = magnitudeBottom;\n        }\n        ctx.fill();\n        ctx.closePath();\n    }\n    renderLineWaveform(channelData, _options, ctx, vScale) {\n        const drawChannel = (index) => {\n            const channel = channelData[index] || channelData[0];\n            const length = channel.length;\n            const { height } = ctx.canvas;\n            const halfHeight = height / 2;\n            const hScale = ctx.canvas.width / length;\n            ctx.moveTo(0, halfHeight);\n            let prevX = 0;\n            let max = 0;\n            for (let i = 0; i <= length; i++) {\n                const x = Math.round(i * hScale);\n                if (x > prevX) {\n                    const h = Math.round(max * halfHeight * vScale) || 1;\n                    const y = halfHeight + h * (index === 0 ? -1 : 1);\n                    ctx.lineTo(prevX, y);\n                    prevX = x;\n                    max = 0;\n                }\n                const value = Math.abs(channel[i] || 0);\n                if (value > max)\n                    max = value;\n            }\n            ctx.lineTo(prevX, halfHeight);\n        };\n        ctx.beginPath();\n        drawChannel(0);\n        drawChannel(1);\n        ctx.fill();\n        ctx.closePath();\n    }\n    renderWaveform(channelData, options, ctx) {\n        ctx.fillStyle = this.convertColorValues(options.waveColor);\n        // Custom rendering function\n        if (options.renderFunction) {\n            options.renderFunction(channelData, ctx);\n            return;\n        }\n        // Vertical scaling\n        let vScale = options.barHeight || 1;\n        if (options.normalize) {\n            const max = Array.from(channelData[0]).reduce((max, value) => Math.max(max, Math.abs(value)), 0);\n            vScale = max ? 1 / max : 1;\n        }\n        // Render waveform as bars\n        if (options.barWidth || options.barGap || options.barAlign) {\n            this.renderBarWaveform(channelData, options, ctx, vScale);\n            return;\n        }\n        // Render waveform as a polyline\n        this.renderLineWaveform(channelData, options, ctx, vScale);\n    }\n    renderSingleCanvas(channelData, options, width, height, start, end, canvasContainer, progressContainer) {\n        const pixelRatio = window.devicePixelRatio || 1;\n        const canvas = document.createElement('canvas');\n        const length = channelData[0].length;\n        canvas.width = Math.round((width * (end - start)) / length);\n        canvas.height = height * pixelRatio;\n        canvas.style.width = `${Math.floor(canvas.width / pixelRatio)}px`;\n        canvas.style.height = `${height}px`;\n        canvas.style.left = `${Math.floor((start * width) / pixelRatio / length)}px`;\n        canvasContainer.appendChild(canvas);\n        const ctx = canvas.getContext('2d');\n        this.renderWaveform(channelData.map((channel) => channel.slice(start, end)), options, ctx);\n        // Draw a progress canvas\n        if (canvas.width > 0 && canvas.height > 0) {\n            const progressCanvas = canvas.cloneNode();\n            const progressCtx = progressCanvas.getContext('2d');\n            progressCtx.drawImage(canvas, 0, 0);\n            // Set the composition method to draw only where the waveform is drawn\n            progressCtx.globalCompositeOperation = 'source-in';\n            progressCtx.fillStyle = this.convertColorValues(options.progressColor);\n            // This rectangle acts as a mask thanks to the composition method\n            progressCtx.fillRect(0, 0, canvas.width, canvas.height);\n            progressContainer.appendChild(progressCanvas);\n        }\n    }\n    renderChannel(channelData, options, width, done) {\n        // A container for canvases\n        const canvasContainer = document.createElement('div');\n        const height = this.getHeight(options.height);\n        canvasContainer.style.height = `${height}px`;\n        this.canvasWrapper.style.minHeight = `${height}px`;\n        this.canvasWrapper.appendChild(canvasContainer);\n        // A container for progress canvases\n        const progressContainer = canvasContainer.cloneNode();\n        this.progressWrapper.appendChild(progressContainer);\n        // Determine the currently visible part of the waveform\n        const { scrollLeft, scrollWidth, clientWidth } = this.scrollContainer;\n        const len = channelData[0].length;\n        const scale = len / scrollWidth;\n        let viewportWidth = Math.min(Renderer.MAX_CANVAS_WIDTH, clientWidth);\n        // Adjust width to avoid gaps between canvases when using bars\n        if (options.barWidth || options.barGap) {\n            const barWidth = options.barWidth || 0.5;\n            const barGap = options.barGap || barWidth / 2;\n            const totalBarWidth = barWidth + barGap;\n            if (viewportWidth % totalBarWidth !== 0) {\n                viewportWidth = Math.floor(viewportWidth / totalBarWidth) * totalBarWidth;\n            }\n        }\n        const start = Math.floor(Math.abs(scrollLeft) * scale);\n        const end = Math.floor(start + viewportWidth * scale);\n        const viewportLen = end - start;\n        // Draw a portion of the waveform from start peak to end peak\n        const draw = (start, end) => {\n            this.renderSingleCanvas(channelData, options, width, height, Math.max(0, start), Math.min(end, len), canvasContainer, progressContainer);\n        };\n        const status = { head: false, tail: end >= len };\n        const complete = (type) => {\n            status[type] = true;\n            if (status.head && status.tail) {\n                done();\n            }\n        };\n        // Draw the waveform in viewport chunks, each with a delay\n        const headDelay = this.createDelay();\n        const tailDelay = this.createDelay();\n        const renderHead = (fromIndex, toIndex) => {\n            draw(fromIndex, toIndex);\n            if (fromIndex > 0) {\n                headDelay(() => {\n                    renderHead(fromIndex - viewportLen, toIndex - viewportLen);\n                });\n            }\n            else {\n                complete('head');\n            }\n        };\n        const renderTail = (fromIndex, toIndex) => {\n            draw(fromIndex, toIndex);\n            if (toIndex < len) {\n                tailDelay(() => {\n                    renderTail(fromIndex + viewportLen, toIndex + viewportLen);\n                });\n            }\n            else {\n                complete('tail');\n            }\n        };\n        renderHead(start, end);\n        if (end < len) {\n            renderTail(end, end + viewportLen);\n        }\n    }\n    render(audioData) {\n        // Clear previous timeouts\n        this.timeouts.forEach((context) => context.timeout && clearTimeout(context.timeout));\n        this.timeouts = [];\n        // Clear the canvases\n        this.canvasWrapper.innerHTML = '';\n        this.progressWrapper.innerHTML = '';\n        // Width\n        if (this.options.width != null) {\n            this.scrollContainer.style.width =\n                typeof this.options.width === 'number' ? `${this.options.width}px` : this.options.width;\n        }\n        // Determine the width of the waveform\n        const pixelRatio = window.devicePixelRatio || 1;\n        const parentWidth = this.scrollContainer.clientWidth;\n        const scrollWidth = Math.ceil(audioData.duration * (this.options.minPxPerSec || 0));\n        // Whether the container should scroll\n        this.isScrollable = scrollWidth > parentWidth;\n        const useParentWidth = this.options.fillParent && !this.isScrollable;\n        // Width of the waveform in pixels\n        const width = (useParentWidth ? parentWidth : scrollWidth) * pixelRatio;\n        // Set the width of the wrapper\n        this.wrapper.style.width = useParentWidth ? '100%' : `${scrollWidth}px`;\n        // Set additional styles\n        this.scrollContainer.style.overflowX = this.isScrollable ? 'auto' : 'hidden';\n        this.scrollContainer.classList.toggle('noScrollbar', !!this.options.hideScrollbar);\n        this.cursor.style.backgroundColor = `${this.options.cursorColor || this.options.progressColor}`;\n        this.cursor.style.width = `${this.options.cursorWidth}px`;\n        // Render the waveform\n        if (this.options.splitChannels) {\n            let counter = 0;\n            const done = () => {\n                counter++;\n                if (counter === audioData.numberOfChannels) {\n                    this.emit('rendered');\n                }\n            };\n            // Render a waveform for each channel\n            for (let i = 0; i < audioData.numberOfChannels; i++) {\n                const options = Object.assign(Object.assign({}, this.options), this.options.splitChannels[i]);\n                this.renderChannel([audioData.getChannelData(i)], options, width, done);\n            }\n        }\n        else {\n            // Render a single waveform for the first two channels (left and right)\n            const channels = [audioData.getChannelData(0)];\n            if (audioData.numberOfChannels > 1)\n                channels.push(audioData.getChannelData(1));\n            this.renderChannel(channels, this.options, width, () => this.emit('rendered'));\n        }\n        this.audioData = audioData;\n        this.emit('render');\n    }\n    reRender() {\n        // Return if the waveform has not been rendered yet\n        if (!this.audioData)\n            return;\n        // Remember the current cursor position\n        const { scrollWidth } = this.scrollContainer;\n        const oldCursorPosition = this.progressWrapper.clientWidth;\n        // Re-render the waveform\n        this.render(this.audioData);\n        // Adjust the scroll position so that the cursor stays in the same place\n        if (this.isScrollable && scrollWidth !== this.scrollContainer.scrollWidth) {\n            const newCursorPosition = this.progressWrapper.clientWidth;\n            this.scrollContainer.scrollLeft += newCursorPosition - oldCursorPosition;\n        }\n    }\n    zoom(minPxPerSec) {\n        this.options.minPxPerSec = minPxPerSec;\n        this.reRender();\n    }\n    scrollIntoView(progress, isPlaying = false) {\n        const { scrollLeft, scrollWidth, clientWidth } = this.scrollContainer;\n        const progressWidth = progress * scrollWidth;\n        const startEdge = scrollLeft;\n        const endEdge = scrollLeft + clientWidth;\n        const middle = clientWidth / 2;\n        if (this.isDragging) {\n            // Scroll when dragging close to the edge of the viewport\n            const minGap = 30;\n            if (progressWidth + minGap > endEdge) {\n                this.scrollContainer.scrollLeft += minGap;\n            }\n            else if (progressWidth - minGap < startEdge) {\n                this.scrollContainer.scrollLeft -= minGap;\n            }\n        }\n        else {\n            if (progressWidth < startEdge || progressWidth > endEdge) {\n                this.scrollContainer.scrollLeft = progressWidth - (this.options.autoCenter ? middle : 0);\n            }\n            // Keep the cursor centered when playing\n            const center = progressWidth - scrollLeft - middle;\n            if (isPlaying && this.options.autoCenter && center > 0) {\n                this.scrollContainer.scrollLeft += Math.min(center, 10);\n            }\n        }\n        // Emit the scroll event\n        {\n            const newScroll = this.scrollContainer.scrollLeft;\n            const startX = newScroll / scrollWidth;\n            const endX = (newScroll + clientWidth) / scrollWidth;\n            this.emit('scroll', startX, endX);\n        }\n    }\n    renderProgress(progress, isPlaying) {\n        if (isNaN(progress))\n            return;\n        const percents = progress * 100;\n        this.canvasWrapper.style.clipPath = `polygon(${percents}% 0, 100% 0, 100% 100%, ${percents}% 100%)`;\n        this.progressWrapper.style.width = `${percents}%`;\n        this.cursor.style.left = `${percents}%`;\n        this.cursor.style.marginLeft = Math.round(percents) === 100 ? `-${this.options.cursorWidth}px` : '';\n        if (this.isScrollable && this.options.autoScroll) {\n            this.scrollIntoView(progress, isPlaying);\n        }\n    }\n    exportImage(format, quality, type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const canvases = this.canvasWrapper.querySelectorAll('canvas');\n            if (!canvases.length) {\n                throw new Error('No waveform data');\n            }\n            // Data URLs\n            if (type === 'dataURL') {\n                const images = Array.from(canvases).map((canvas) => canvas.toDataURL(format, quality));\n                return Promise.resolve(images);\n            }\n            // Blobs\n            return Promise.all(Array.from(canvases).map((canvas) => {\n                return new Promise((resolve, reject) => {\n                    canvas.toBlob((blob) => {\n                        blob ? resolve(blob) : reject(new Error('Could not export image'));\n                    }, format, quality);\n                });\n            }));\n        });\n    }\n}\nRenderer.MAX_CANVAS_WIDTH = 4000;\nexport default Renderer;\n","export function makeDraggable(element, onDrag, onStart, onEnd, threshold = 3, mouseButton = 0) {\n    if (!element)\n        return () => void 0;\n    let unsubscribeDocument = () => void 0;\n    const onPointerDown = (event) => {\n        if (event.button !== mouseButton)\n            return;\n        event.preventDefault();\n        event.stopPropagation();\n        let startX = event.clientX;\n        let startY = event.clientY;\n        let isDragging = false;\n        const onPointerMove = (event) => {\n            event.preventDefault();\n            event.stopPropagation();\n            const x = event.clientX;\n            const y = event.clientY;\n            const dx = x - startX;\n            const dy = y - startY;\n            if (isDragging || Math.abs(dx) > threshold || Math.abs(dy) > threshold) {\n                const rect = element.getBoundingClientRect();\n                const { left, top } = rect;\n                if (!isDragging) {\n                    onStart === null || onStart === void 0 ? void 0 : onStart(startX - left, startY - top);\n                    isDragging = true;\n                }\n                onDrag(dx, dy, x - left, y - top);\n                startX = x;\n                startY = y;\n            }\n        };\n        const onPointerUp = () => {\n            if (isDragging) {\n                onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n            }\n            unsubscribeDocument();\n        };\n        const onPointerLeave = (e) => {\n            // Listen to events only on the document and not on inner elements\n            if (!e.relatedTarget || e.relatedTarget === document.documentElement) {\n                onPointerUp();\n            }\n        };\n        const onClick = (event) => {\n            if (isDragging) {\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        };\n        const onTouchMove = (event) => {\n            if (isDragging) {\n                event.preventDefault();\n            }\n        };\n        document.addEventListener('pointermove', onPointerMove);\n        document.addEventListener('pointerup', onPointerUp);\n        document.addEventListener('pointerout', onPointerLeave);\n        document.addEventListener('pointercancel', onPointerLeave);\n        document.addEventListener('touchmove', onTouchMove, { passive: false });\n        document.addEventListener('click', onClick, { capture: true });\n        unsubscribeDocument = () => {\n            document.removeEventListener('pointermove', onPointerMove);\n            document.removeEventListener('pointerup', onPointerUp);\n            document.removeEventListener('pointerout', onPointerLeave);\n            document.removeEventListener('pointercancel', onPointerLeave);\n            document.removeEventListener('touchmove', onTouchMove);\n            setTimeout(() => {\n                document.removeEventListener('click', onClick, { capture: true });\n            }, 10);\n        };\n    };\n    element.addEventListener('pointerdown', onPointerDown);\n    return () => {\n        unsubscribeDocument();\n        element.removeEventListener('pointerdown', onPointerDown);\n    };\n}\n","import EventEmitter from './event-emitter.js';\nclass Timer extends EventEmitter {\n    constructor() {\n        super(...arguments);\n        this.unsubscribe = () => undefined;\n    }\n    start() {\n        this.unsubscribe = this.on('tick', () => {\n            requestAnimationFrame(() => {\n                this.emit('tick');\n            });\n        });\n        this.emit('tick');\n    }\n    stop() {\n        this.unsubscribe();\n    }\n    destroy() {\n        this.unsubscribe();\n    }\n}\nexport default Timer;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport EventEmitter from './event-emitter.js';\n/**\n * A Web Audio buffer player emulating the behavior of an HTML5 Audio element.\n */\nclass WebAudioPlayer extends EventEmitter {\n    constructor(audioContext = new AudioContext()) {\n        super();\n        this.bufferNode = null;\n        this.autoplay = false;\n        this.playStartTime = 0;\n        this.playedDuration = 0;\n        this._muted = false;\n        this.buffer = null;\n        this.currentSrc = '';\n        this.paused = true;\n        this.crossOrigin = null;\n        /** Subscribe to an event. Returns an unsubscribe function. */\n        this.addEventListener = this.on;\n        /** Unsubscribe from an event */\n        this.removeEventListener = this.un;\n        this.audioContext = audioContext;\n        this.gainNode = this.audioContext.createGain();\n        this.gainNode.connect(this.audioContext.destination);\n    }\n    load() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return;\n        });\n    }\n    get src() {\n        return this.currentSrc;\n    }\n    set src(value) {\n        this.currentSrc = value;\n        if (!value) {\n            this.buffer = null;\n            this.emit('emptied');\n            return;\n        }\n        fetch(value)\n            .then((response) => response.arrayBuffer())\n            .then((arrayBuffer) => {\n            if (this.currentSrc !== value)\n                return null;\n            return this.audioContext.decodeAudioData(arrayBuffer);\n        })\n            .then((audioBuffer) => {\n            if (this.currentSrc !== value)\n                return;\n            this.buffer = audioBuffer;\n            this.emit('loadedmetadata');\n            this.emit('canplay');\n            if (this.autoplay)\n                this.play();\n        });\n    }\n    _play() {\n        var _a;\n        if (!this.paused)\n            return;\n        this.paused = false;\n        (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this.bufferNode = this.audioContext.createBufferSource();\n        this.bufferNode.buffer = this.buffer;\n        this.bufferNode.connect(this.gainNode);\n        if (this.playedDuration >= this.duration) {\n            this.playedDuration = 0;\n        }\n        this.bufferNode.start(this.audioContext.currentTime, this.playedDuration);\n        this.playStartTime = this.audioContext.currentTime;\n        this.bufferNode.onended = () => {\n            if (this.currentTime >= this.duration) {\n                this.pause();\n                this.emit('ended');\n            }\n        };\n    }\n    _pause() {\n        var _a;\n        if (this.paused)\n            return;\n        this.paused = true;\n        (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.stop();\n        this.playedDuration += this.audioContext.currentTime - this.playStartTime;\n    }\n    play() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._play();\n            this.emit('play');\n        });\n    }\n    pause() {\n        this._pause();\n        this.emit('pause');\n    }\n    stopAt(timeSeconds) {\n        var _a, _b;\n        const delay = timeSeconds - this.currentTime;\n        (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.stop(this.audioContext.currentTime + delay);\n        (_b = this.bufferNode) === null || _b === void 0 ? void 0 : _b.addEventListener('ended', () => {\n            this.bufferNode = null;\n            this.pause();\n        }, { once: true });\n    }\n    setSinkId(deviceId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const ac = this.audioContext;\n            return ac.setSinkId(deviceId);\n        });\n    }\n    get playbackRate() {\n        var _a, _b;\n        return (_b = (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.playbackRate.value) !== null && _b !== void 0 ? _b : 1;\n    }\n    set playbackRate(value) {\n        if (this.bufferNode) {\n            this.bufferNode.playbackRate.value = value;\n        }\n    }\n    get currentTime() {\n        return this.paused ? this.playedDuration : this.playedDuration + this.audioContext.currentTime - this.playStartTime;\n    }\n    set currentTime(value) {\n        this.emit('seeking');\n        if (this.paused) {\n            this.playedDuration = value;\n        }\n        else {\n            this._pause();\n            this.playedDuration = value;\n            this._play();\n        }\n        this.emit('timeupdate');\n    }\n    get duration() {\n        var _a;\n        return ((_a = this.buffer) === null || _a === void 0 ? void 0 : _a.duration) || 0;\n    }\n    get volume() {\n        return this.gainNode.gain.value;\n    }\n    set volume(value) {\n        this.gainNode.gain.value = value;\n        this.emit('volumechange');\n    }\n    get muted() {\n        return this._muted;\n    }\n    set muted(value) {\n        if (this._muted === value)\n            return;\n        this._muted = value;\n        if (this._muted) {\n            this.gainNode.disconnect();\n        }\n        else {\n            this.gainNode.connect(this.audioContext.destination);\n        }\n    }\n    canPlayType(mimeType) {\n        return /^(audio|video)\\//.test(mimeType);\n    }\n    /** Get the GainNode used to play the audio. Can be used to attach filters. */\n    getGainNode() {\n        return this.gainNode;\n    }\n    /** Get decoded audio */\n    getChannelData() {\n        const channels = [];\n        if (!this.buffer)\n            return channels;\n        const numChannels = this.buffer.numberOfChannels;\n        for (let i = 0; i < numChannels; i++) {\n            channels.push(this.buffer.getChannelData(i));\n        }\n        return channels;\n    }\n}\nexport default WebAudioPlayer;\n","class t{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==i?void 0:i.once){const i=()=>{this.un(t,i),this.un(t,e)};return this.on(t,i),i}return()=>this.un(t,e)}un(t,e){var i;null===(i=this.listeners[t])||void 0===i||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}class e extends t{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit(\"destroy\"),this.subscriptions.forEach((t=>t()))}}function i(t,e,i,n,s=3,o=0){if(!t)return()=>{};let r=()=>{};const a=a=>{if(a.button!==o)return;a.preventDefault(),a.stopPropagation();let l=a.clientX,h=a.clientY,d=!1;const c=n=>{n.preventDefault(),n.stopPropagation();const o=n.clientX,r=n.clientY,a=o-l,c=r-h;if(d||Math.abs(a)>s||Math.abs(c)>s){const n=t.getBoundingClientRect(),{left:s,top:u}=n;d||(null==i||i(l-s,h-u),d=!0),e(a,c,o-s,r-u),l=o,h=r}},u=()=>{d&&(null==n||n()),r()},g=t=>{t.relatedTarget&&t.relatedTarget!==document.documentElement||u()},v=t=>{d&&(t.stopPropagation(),t.preventDefault())},p=t=>{d&&t.preventDefault()};document.addEventListener(\"pointermove\",c),document.addEventListener(\"pointerup\",u),document.addEventListener(\"pointerout\",g),document.addEventListener(\"pointercancel\",g),document.addEventListener(\"touchmove\",p,{passive:!1}),document.addEventListener(\"click\",v,{capture:!0}),r=()=>{document.removeEventListener(\"pointermove\",c),document.removeEventListener(\"pointerup\",u),document.removeEventListener(\"pointerout\",g),document.removeEventListener(\"pointercancel\",g),document.removeEventListener(\"touchmove\",p),setTimeout((()=>{document.removeEventListener(\"click\",v,{capture:!0})}),10)}};return t.addEventListener(\"pointerdown\",a),()=>{r(),t.removeEventListener(\"pointerdown\",a)}}function n(t,e){const i=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[t,s]of Object.entries(e))if(\"children\"===t)for(const[t,s]of Object.entries(e))\"string\"==typeof s?i.appendChild(document.createTextNode(s)):i.appendChild(n(t,s));else\"style\"===t?Object.assign(i.style,s):\"textContent\"===t?i.textContent=s:i.setAttribute(t,s.toString());return i}function s(t,e,i){const s=n(t,e||{});return null==i||i.appendChild(s),s}class o extends t{constructor(t,e,i=0){var n,s,o,r,a,l,h,d;super(),this.totalDuration=e,this.numberOfChannels=i,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.id=t.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(t.start),this.end=this.clampPosition(null!==(n=t.end)&&void 0!==n?n:t.start),this.drag=null===(s=t.drag)||void 0===s||s,this.resize=null===(o=t.resize)||void 0===o||o,this.color=null!==(r=t.color)&&void 0!==r?r:\"rgba(0, 0, 0, 0.1)\",this.minLength=null!==(a=t.minLength)&&void 0!==a?a:this.minLength,this.maxLength=null!==(l=t.maxLength)&&void 0!==l?l:this.maxLength,this.channelIdx=null!==(h=t.channelIdx)&&void 0!==h?h:-1,this.contentEditable=null!==(d=t.contentEditable)&&void 0!==d?d:this.contentEditable,this.element=this.initElement(),this.setContent(t.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(t){return Math.max(0,Math.min(this.totalDuration,t))}setPart(){const t=this.start===this.end;this.element.setAttribute(\"part\",`${t?\"marker\":\"region\"} ${this.id}`)}addResizeHandles(t){const e={position:\"absolute\",zIndex:\"2\",width:\"6px\",height:\"100%\",top:\"0\",cursor:\"ew-resize\",wordBreak:\"keep-all\"},n=s(\"div\",{part:\"region-handle region-handle-left\",style:Object.assign(Object.assign({},e),{left:\"0\",borderLeft:\"2px solid rgba(0, 0, 0, 0.5)\",borderRadius:\"2px 0 0 2px\"})},t),o=s(\"div\",{part:\"region-handle region-handle-right\",style:Object.assign(Object.assign({},e),{right:\"0\",borderRight:\"2px solid rgba(0, 0, 0, 0.5)\",borderRadius:\"0 2px 2px 0\"})},t);i(n,(t=>this.onResize(t,\"start\")),(()=>null),(()=>this.onEndResizing()),1),i(o,(t=>this.onResize(t,\"end\")),(()=>null),(()=>this.onEndResizing()),1)}removeResizeHandles(t){const e=t.querySelector('[part*=\"region-handle-left\"]'),i=t.querySelector('[part*=\"region-handle-right\"]');e&&t.removeChild(e),i&&t.removeChild(i)}initElement(){const t=this.start===this.end;let e=0,i=100;this.channelIdx>=0&&this.channelIdx<this.numberOfChannels&&(i=100/this.numberOfChannels,e=i*this.channelIdx);const n=s(\"div\",{style:{position:\"absolute\",top:`${e}%`,height:`${i}%`,backgroundColor:t?\"none\":this.color,borderLeft:t?\"2px solid \"+this.color:\"none\",borderRadius:\"2px\",boxSizing:\"border-box\",transition:\"background-color 0.2s ease\",cursor:this.drag?\"grab\":\"default\",pointerEvents:\"all\"}});return!t&&this.resize&&this.addResizeHandles(n),n}renderPosition(){const t=this.start/this.totalDuration,e=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*t+\"%\",this.element.style.right=100*e+\"%\"}toggleCursor(t){this.drag&&(this.element.style.cursor=t?\"grabbing\":\"grab\")}initMouseEvents(){const{element:t}=this;t&&(t.addEventListener(\"click\",(t=>this.emit(\"click\",t))),t.addEventListener(\"mouseenter\",(t=>this.emit(\"over\",t))),t.addEventListener(\"mouseleave\",(t=>this.emit(\"leave\",t))),t.addEventListener(\"dblclick\",(t=>this.emit(\"dblclick\",t))),t.addEventListener(\"pointerdown\",(()=>this.toggleCursor(!0))),t.addEventListener(\"pointerup\",(()=>this.toggleCursor(!1))),i(t,(t=>this.onMove(t)),(()=>this.toggleCursor(!0)),(()=>{this.toggleCursor(!1),this.drag&&this.emit(\"update-end\")})),this.contentEditable&&this.content&&(this.content.addEventListener(\"click\",(t=>this.onContentClick(t))),this.content.addEventListener(\"blur\",(()=>this.onContentBlur()))))}_onUpdate(t,e){if(!this.element.parentElement)return;const{width:i}=this.element.parentElement.getBoundingClientRect(),n=t/i*this.totalDuration,s=e&&\"start\"!==e?this.start:this.start+n,o=e&&\"end\"!==e?this.end:this.end+n,r=o-s;s>=0&&o<=this.totalDuration&&s<=o&&r>=this.minLength&&r<=this.maxLength&&(this.start=s,this.end=o,this.renderPosition(),this.emit(\"update\"))}onMove(t){this.drag&&this._onUpdate(t)}onResize(t,e){this.resize&&this._onUpdate(t,e)}onEndResizing(){this.resize&&this.emit(\"update-end\")}onContentClick(t){t.stopPropagation();t.target.focus(),this.emit(\"click\",t)}onContentBlur(){this.emit(\"update-end\")}_setTotalDuration(t){this.totalDuration=t,this.renderPosition()}play(){this.emit(\"play\")}setContent(t){var e;if(null===(e=this.content)||void 0===e||e.remove(),t){if(\"string\"==typeof t){const e=this.start===this.end;this.content=s(\"div\",{style:{padding:`0.2em ${e?.2:.4}em`,display:\"inline-block\"},textContent:t})}else this.content=t;this.contentEditable&&(this.content.contentEditable=\"true\"),this.content.setAttribute(\"part\",\"region-content\"),this.element.appendChild(this.content)}else this.content=void 0}setOptions(t){var e,i;if(t.color&&(this.color=t.color,this.element.style.backgroundColor=this.color),void 0!==t.drag&&(this.drag=t.drag,this.element.style.cursor=this.drag?\"grab\":\"default\"),void 0!==t.start||void 0!==t.end){const n=this.start===this.end;this.start=this.clampPosition(null!==(e=t.start)&&void 0!==e?e:this.start),this.end=this.clampPosition(null!==(i=t.end)&&void 0!==i?i:n?this.start:this.end),this.renderPosition(),this.setPart()}if(t.content&&this.setContent(t.content),t.id&&(this.id=t.id,this.setPart()),void 0!==t.resize&&t.resize!==this.resize){const e=this.start===this.end;this.resize=t.resize,this.resize&&!e?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}}remove(){this.emit(\"remove\"),this.element.remove(),this.element=null}}class r extends e{constructor(t){super(t),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(t){return new r(t)}onInit(){if(!this.wavesurfer)throw Error(\"WaveSurfer is not initialized\");this.wavesurfer.getWrapper().appendChild(this.regionsContainer);let t=[];this.subscriptions.push(this.wavesurfer.on(\"timeupdate\",(e=>{const i=this.regions.filter((t=>t.start<=e&&(t.end===t.start?t.start+.05:t.end)>=e));i.forEach((e=>{t.includes(e)||this.emit(\"region-in\",e)})),t.forEach((t=>{i.includes(t)||this.emit(\"region-out\",t)})),t=i})))}initRegionsContainer(){return s(\"div\",{style:{position:\"absolute\",top:\"0\",left:\"0\",width:\"100%\",height:\"100%\",zIndex:\"3\",pointerEvents:\"none\"}})}getRegions(){return this.regions}avoidOverlapping(t){if(!t.content)return;const e=t.content,i=e.getBoundingClientRect(),n=this.regions.map((e=>{if(e===t||!e.content)return 0;const n=e.content.getBoundingClientRect();return i.left<n.left+n.width&&n.left<i.left+i.width?n.height:0})).reduce(((t,e)=>t+e),0);e.style.marginTop=`${n}px`}adjustScroll(t){var e,i;const n=null===(i=null===(e=this.wavesurfer)||void 0===e?void 0:e.getWrapper())||void 0===i?void 0:i.parentElement;if(!n)return;const{clientWidth:s,scrollWidth:o}=n;if(o<=s)return;const r=n.getBoundingClientRect(),a=t.element.getBoundingClientRect(),l=a.left-r.left,h=a.right-r.left;l<0?n.scrollLeft+=l:h>s&&(n.scrollLeft+=h-s)}saveRegion(t){this.regionsContainer.appendChild(t.element),this.avoidOverlapping(t),this.regions.push(t);const e=[t.on(\"update\",(()=>{this.adjustScroll(t)})),t.on(\"update-end\",(()=>{this.avoidOverlapping(t),this.emit(\"region-updated\",t)})),t.on(\"play\",(()=>{var e,i;null===(e=this.wavesurfer)||void 0===e||e.play(),null===(i=this.wavesurfer)||void 0===i||i.setTime(t.start)})),t.on(\"click\",(e=>{this.emit(\"region-clicked\",t,e)})),t.on(\"dblclick\",(e=>{this.emit(\"region-double-clicked\",t,e)})),t.once(\"remove\",(()=>{e.forEach((t=>t())),this.regions=this.regions.filter((e=>e!==t)),this.emit(\"region-removed\",t)}))];this.subscriptions.push(...e),this.emit(\"region-created\",t)}addRegion(t){var e,i;if(!this.wavesurfer)throw Error(\"WaveSurfer is not initialized\");const n=this.wavesurfer.getDuration(),s=null===(i=null===(e=this.wavesurfer)||void 0===e?void 0:e.getDecodedData())||void 0===i?void 0:i.numberOfChannels,r=new o(t,n,s);return n?this.saveRegion(r):this.subscriptions.push(this.wavesurfer.once(\"ready\",(t=>{r._setTotalDuration(t),this.saveRegion(r)}))),r}enableDragSelection(t,e=3){var n;const s=null===(n=this.wavesurfer)||void 0===n?void 0:n.getWrapper();if(!(s&&s instanceof HTMLElement))return()=>{};let r=null,a=0;return i(s,((t,e,i)=>{r&&r._onUpdate(t,i>a?\"end\":\"start\")}),(e=>{var i,n;if(a=e,!this.wavesurfer)return;const s=this.wavesurfer.getDuration(),l=null===(n=null===(i=this.wavesurfer)||void 0===i?void 0:i.getDecodedData())||void 0===n?void 0:n.numberOfChannels,{width:h}=this.wavesurfer.getWrapper().getBoundingClientRect(),d=e/h*s,c=(e+5)/h*s;r=new o(Object.assign(Object.assign({},t),{start:d,end:c}),s,l),this.regionsContainer.appendChild(r.element)}),(()=>{r&&(this.saveRegion(r),r=null)}),e)}clearRegions(){this.regions.forEach((t=>t.remove()))}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}export{r as default};\n"],"names":["$c03aca78159de43e$export$2e2bcd8739ae039","decode","audioData","sampleRate","thisArg","_arguments","P","generator","audioCtx","AudioContext","decodeAudioData","finally","close","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","adopt","then","apply","createBuffer","channelData","duration","$c03aca78159de43e$var$normalize","firstChannel","some","n","length","max","i","absN","Math","abs","channel","numberOfChannels","getChannelData","copyFromChannel","AudioBuffer","prototype","copyToChannel","$064d4de22181c65c$var$__awaiter","$064d4de22181c65c$export$2e2bcd8739ae039","fetchBlob","url","progressCallback","requestInit","response","fetch","status","Error","statusText","$064d4de22181c65c$var$watchProgress","body","headers","reader","getReader","contentLength","Number","get","receivedLength","processChunk","round","read","data","_a","clone","blob","$41fb24c6822f7f68$export$2e2bcd8739ae039","constructor","listeners","on","event","listener","options","Set","add","once","unsubscribeOnce","un","delete","unAll","emit","eventName","args","forEach","$33a4d7ed38deb55a$export$2e2bcd8739ae039","isExternalMedia","media","document","createElement","mediaControls","controls","autoplay","playbackRate","onceMediaEvent","onMediaEvent","callback","addEventListener","removeEventListener","getSrc","currentSrc","src","revokeSrc","startsWith","URL","revokeObjectURL","canPlayType","type","setSrc","newSrc","Blob","createObjectURL","destroy","pause","remove","load","setMediaElement","element","play","isPlaying","paused","ended","setTime","time","currentTime","getDuration","getCurrentTime","getVolume","volume","setVolume","getMuted","muted","setMuted","getPlaybackRate","setPlaybackRate","rate","preservePitch","preservesPitch","getMediaElement","setSinkId","sinkId","$9dbf784afb0c7be3$var$Renderer","audioElement","timeouts","isScrollable","resizeObserver","lastContainerWidth","isDragging","parent","parentFromOptionsContainer","container","div","shadow","initHtml","appendChild","scrollContainer","querySelector","wrapper","canvasWrapper","progressWrapper","cursor","initEvents","HTMLElement","getClickPosition","rect","getBoundingClientRect","x","clientX","left","y","width","height","dragToSeek","initDrag","scrollLeft","scrollWidth","clientWidth","delay","createDelay","ResizeObserver","onContainerResize","observe","reRender","onDrag","onStart","onEnd","threshold","mouseButton","unsubscribeDocument","onPointerDown","button","preventDefault","stopPropagation","startX","startY","clientY","onPointerMove","dx","dy","top","onPointerUp","onPointerLeave","relatedTarget","documentElement","onClick","onTouchMove","passive","capture","setTimeout","_","__","min","getHeight","optionsHeight","isNaN","clientHeight","attachShadow","mode","innerHTML","setOptions","newParent","getWrapper","getScroll","disconnect","delayMs","context","push","timeout","clearTimeout","convertColorValues","color","Array","isArray","canvasElement","ctx","getContext","gradientHeight","window","devicePixelRatio","gradient","createLinearGradient","colorStopPercentage","index","addColorStop","renderBarWaveform","vScale","topChannel","bottomChannel","canvas","halfHeight","pixelRatio","barWidth","barGap","barRadius","barIndexScale","rectFn","beginPath","prevX","maxTop","maxBottom","topBarHeight","barHeight","barAlign","magnitudeTop","magnitudeBottom","fill","closePath","renderLineWaveform","_options","drawChannel","hScale","moveTo","h","lineTo","renderWaveform","fillStyle","waveColor","renderFunction","normalize","from","reduce","renderSingleCanvas","start","end","canvasContainer","progressContainer","style","floor","map","slice","progressCanvas","cloneNode","progressCtx","drawImage","globalCompositeOperation","progressColor","fillRect","renderChannel","minHeight","len","scale","viewportWidth","MAX_CANVAS_WIDTH","totalBarWidth","viewportLen","draw","head","tail","complete","headDelay","tailDelay","renderHead","fromIndex","toIndex","renderTail","render","parentWidth","ceil","minPxPerSec","useParentWidth","fillParent","overflowX","classList","toggle","hideScrollbar","backgroundColor","cursorColor","cursorWidth","splitChannels","counter","Object","assign","channels","oldCursorPosition","newCursorPosition","zoom","scrollIntoView","progress","progressWidth","endEdge","middle","autoCenter","center","newScroll","renderProgress","percents","clipPath","marginLeft","autoScroll","exportImage","format","quality","canvases","querySelectorAll","toDataURL","all","toBlob","$3eb19631013a78b4$export$2e2bcd8739ae039","arguments","unsubscribe","undefined","requestAnimationFrame","stop","$144984c8dc4f08bd$var$__awaiter","$144984c8dc4f08bd$export$2e2bcd8739ae039","audioContext","bufferNode","playStartTime","playedDuration","_muted","buffer","crossOrigin","gainNode","createGain","connect","destination","arrayBuffer","audioBuffer","_play","createBufferSource","onended","_pause","stopAt","timeSeconds","_b","deviceId","ac","gain","mimeType","test","getGainNode","numChannels","$182ce0f141db4820$var$__awaiter","$182ce0f141db4820$var$defaultOptions","interact","$182ce0f141db4820$var$WaveSurfer","create","backend","audioRate","plugins","decodedData","subscriptions","mediaSubscriptions","timer","renderer","initPlayerEvents","initRendererEvents","initTimerEvents","initPlugins","peaks","relativeX","relativeY","seekTo","endX","debounce","plugin","registerPlugin","unsubscribePlayerEvents","_init","filter","p","getActivePlugins","loadAudio","percentage","fetchParams","audioDuration","loadBlob","getDecodedData","exportPeaks","maxLength","precision","maxChannels","sampleSize","sample","Infinity","toggleInteraction","isInteractive","playPause","skip","seconds","empty","$1ebac55772351390$var$t","t","$1ebac55772351390$var$e","onInit","wavesurfer","$1ebac55772351390$var$i","s","o","r","a","l","d","c","u","g","v","$1ebac55772351390$var$s","$1ebac55772351390$var$n","xmlns","createElementNS","entries","createTextNode","textContent","setAttribute","toString","$1ebac55772351390$var$o","totalDuration","minLength","contentEditable","id","random","clampPosition","drag","resize","channelIdx","initElement","setContent","content","setPart","renderPosition","initMouseEvents","addResizeHandles","position","zIndex","wordBreak","part","borderLeft","borderRadius","right","borderRight","onResize","onEndResizing","removeResizeHandles","removeChild","boxSizing","transition","pointerEvents","toggleCursor","onMove","onContentClick","onContentBlur","_onUpdate","parentElement","target","focus","_setTotalDuration","padding","display","$1ebac55772351390$export$2e2bcd8739ae039","regions","regionsContainer","initRegionsContainer","includes","getRegions","avoidOverlapping","marginTop","adjustScroll","saveRegion","addRegion","enableDragSelection","clearRegions","$35da740d59af89ba$var$disableRegionOut","$35da740d59af89ba$var$disableRegionOutPauseMillis","$35da740d59af89ba$var$setDisableRegionOutTrue","$35da740d59af89ba$var$paused","$35da740d59af89ba$var$initWavesurfer","fileName","$35da740d59af89ba$var$initWavesurferInternal","err","console","log","ws","loop","wsRegions","region","$","removeClass","addClass","timerInterval","parseInt","val","ignore","pauseMillis","timeLeftMillis","text","css","show","setInterval","clearInterval","hide","perc","localStorageKey","saveRegions","localStorage","setItem","JSON","stringify","regionNum","addContent","el","html","toFixed","String","attr","append","click","getItem","parse","removeItem","keys","key","$35da740d59af89ba$var$main","file","params","URLSearchParams","location","search","alert","change","getElementById","files","fileReader","FileReader","readAsDataURL","onload","name"],"version":3,"file":"index.78760a97.js.map"}